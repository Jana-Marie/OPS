ARM GAS  /tmp/ccqZTgoL.s 			page 1


   1              		.cpu cortex-m0
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 0
  10              		.eabi_attribute 18, 4
  11              		.file	"units.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.global	__aeabi_dcmpeq
  16              		.section	.text.translateUnitInverse,"ax",%progbits
  17              		.align	1
  18              		.arch armv6s-m
  19              		.syntax unified
  20              		.code	16
  21              		.thumb_func
  22              		.fpu softvfp
  24              	translateUnitInverse:
  25              	.LVL0:
  26              	.LFB1:
  27              		.file 1 "libscpi/src/units.c"
   1:libscpi/src/units.c **** /*-
   2:libscpi/src/units.c ****  * BSD 2-Clause License
   3:libscpi/src/units.c ****  *
   4:libscpi/src/units.c ****  * Copyright (c) 2012-2018, Jan Breuer
   5:libscpi/src/units.c ****  * All rights reserved.
   6:libscpi/src/units.c ****  *
   7:libscpi/src/units.c ****  * Redistribution and use in source and binary forms, with or without
   8:libscpi/src/units.c ****  * modification, are permitted provided that the following conditions are met:
   9:libscpi/src/units.c ****  *
  10:libscpi/src/units.c ****  * * Redistributions of source code must retain the above copyright notice, this
  11:libscpi/src/units.c ****  *   list of conditions and the following disclaimer.
  12:libscpi/src/units.c ****  *
  13:libscpi/src/units.c ****  * * Redistributions in binary form must reproduce the above copyright notice,
  14:libscpi/src/units.c ****  *   this list of conditions and the following disclaimer in the documentation
  15:libscpi/src/units.c ****  *   and/or other materials provided with the distribution.
  16:libscpi/src/units.c ****  *
  17:libscpi/src/units.c ****  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  18:libscpi/src/units.c ****  * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  19:libscpi/src/units.c ****  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  20:libscpi/src/units.c ****  * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
  21:libscpi/src/units.c ****  * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  22:libscpi/src/units.c ****  * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
  23:libscpi/src/units.c ****  * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
  24:libscpi/src/units.c ****  * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
  25:libscpi/src/units.c ****  * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  26:libscpi/src/units.c ****  * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  27:libscpi/src/units.c ****  */
  28:libscpi/src/units.c **** 
  29:libscpi/src/units.c **** /**
  30:libscpi/src/units.c ****  * @file   scpi_units.c
  31:libscpi/src/units.c ****  * @date   Thu Nov 15 10:58:45 UTC 2012
ARM GAS  /tmp/ccqZTgoL.s 			page 2


  32:libscpi/src/units.c ****  *
  33:libscpi/src/units.c ****  * @brief  SCPI units
  34:libscpi/src/units.c ****  *
  35:libscpi/src/units.c ****  *
  36:libscpi/src/units.c ****  */
  37:libscpi/src/units.c **** 
  38:libscpi/src/units.c **** #include <string.h>
  39:libscpi/src/units.c **** #include "scpi/parser.h"
  40:libscpi/src/units.c **** #include "scpi/units.h"
  41:libscpi/src/units.c **** #include "utils_private.h"
  42:libscpi/src/units.c **** #include "scpi/utils.h"
  43:libscpi/src/units.c **** #include "scpi/error.h"
  44:libscpi/src/units.c **** #include "lexer_private.h"
  45:libscpi/src/units.c **** 
  46:libscpi/src/units.c **** 
  47:libscpi/src/units.c **** /*
  48:libscpi/src/units.c ****  * multipliers IEEE 488.2-1992 tab 7-2
  49:libscpi/src/units.c ****  * 1E18         EX
  50:libscpi/src/units.c ****  * 1E15         PE
  51:libscpi/src/units.c ****  * 1E12         T
  52:libscpi/src/units.c ****  * 1E9          G
  53:libscpi/src/units.c ****  * 1E6          MA (use M for OHM and HZ)
  54:libscpi/src/units.c ****  * 1E3          K
  55:libscpi/src/units.c ****  * 1E-3         M (disaalowed for OHM and HZ)
  56:libscpi/src/units.c ****  * 1E-6         U
  57:libscpi/src/units.c ****  * 1E-9         N
  58:libscpi/src/units.c ****  * 1E-12        P
  59:libscpi/src/units.c ****  * 1E-15        F
  60:libscpi/src/units.c ****  * 1E-18        A
  61:libscpi/src/units.c ****  */
  62:libscpi/src/units.c **** 
  63:libscpi/src/units.c **** /*
  64:libscpi/src/units.c ****  * units definition IEEE 488.2-1992 tab 7-1
  65:libscpi/src/units.c ****  */
  66:libscpi/src/units.c **** const scpi_unit_def_t scpi_units_def[] = {
  67:libscpi/src/units.c **** #if USE_UNITS_PARTICLES
  68:libscpi/src/units.c ****     /* Absorbet dose */
  69:libscpi/src/units.c ****     {/* name */ "GY", /* unit */ SCPI_UNIT_GRAY, /* mult */ 1},
  70:libscpi/src/units.c **** 
  71:libscpi/src/units.c ****     /* Activity of radionuclide */
  72:libscpi/src/units.c ****     {/* name */ "BQ", /* unit */ SCPI_UNIT_BECQUEREL, /* mult */ 1},
  73:libscpi/src/units.c **** 
  74:libscpi/src/units.c ****     /* Amount of substance */
  75:libscpi/src/units.c ****     {/* name */ "MOL", /* unit */ SCPI_UNIT_MOLE, /* mult */ 1},
  76:libscpi/src/units.c **** 
  77:libscpi/src/units.c ****     /* Dose equivalent */
  78:libscpi/src/units.c ****     {/* name */ "NSV", /* unit */ SCPI_UNIT_SIEVERT, /* mult */ 1e-9},
  79:libscpi/src/units.c ****     {/* name */ "USV", /* unit */ SCPI_UNIT_SIEVERT, /* mult */ 1e-6},
  80:libscpi/src/units.c ****     {/* name */ "MSV", /* unit */ SCPI_UNIT_SIEVERT, /* mult */ 1e-3},
  81:libscpi/src/units.c ****     {/* name */ "SV", /* unit */ SCPI_UNIT_SIEVERT, /* mult */ 1},
  82:libscpi/src/units.c ****     {/* name */ "KSV", /* unit */ SCPI_UNIT_SIEVERT, /* mult */ 1e3},
  83:libscpi/src/units.c ****     {/* name */ "MASV", /* unit */ SCPI_UNIT_SIEVERT, /* mult */ 1e6},
  84:libscpi/src/units.c **** 
  85:libscpi/src/units.c ****     /* Energy */
  86:libscpi/src/units.c ****     {/* name */ "EV", /* unit */ SCPI_UNIT_ELECTRONVOLT, /* mult */ 1},
  87:libscpi/src/units.c ****     {/* name */ "KEV", /* unit */ SCPI_UNIT_ELECTRONVOLT, /* mult */ 1e3},
  88:libscpi/src/units.c ****     {/* name */ "MAEV", /* unit */ SCPI_UNIT_ELECTRONVOLT, /* mult */ 1e6},
ARM GAS  /tmp/ccqZTgoL.s 			page 3


  89:libscpi/src/units.c ****     {/* name */ "GEV", /* unit */ SCPI_UNIT_ELECTRONVOLT, /* mult */ 1e9},
  90:libscpi/src/units.c ****     {/* name */ "TEV", /* unit */ SCPI_UNIT_ELECTRONVOLT, /* mult */ 1e12},
  91:libscpi/src/units.c **** 
  92:libscpi/src/units.c ****     /* Mass */
  93:libscpi/src/units.c ****     {/* name */ "U", /* unit */ SCPI_UNIT_ATOMIC_MASS, /* mult */ 1},
  94:libscpi/src/units.c **** #endif /* USE_UNITS_PARTICLES */
  95:libscpi/src/units.c **** 
  96:libscpi/src/units.c **** #if USE_UNITS_ANGLE
  97:libscpi/src/units.c ****     /* Angle */
  98:libscpi/src/units.c ****     {/* name */ "DEG", /* unit */ SCPI_UNIT_DEGREE, /* mult */ 1},
  99:libscpi/src/units.c ****     {/* name */ "GON", /* unit */ SCPI_UNIT_GRADE, /* mult */ 1},
 100:libscpi/src/units.c ****     {/* name */ "MNT", /* unit */ SCPI_UNIT_DEGREE, /* mult */ 1. / 60.},
 101:libscpi/src/units.c ****     {/* name */ "RAD", /* unit */ SCPI_UNIT_RADIAN, /* mult */ 1},
 102:libscpi/src/units.c ****     {/* name */ "SEC", /* unit */ SCPI_UNIT_DEGREE, /* mult */ 1. / 3600.},
 103:libscpi/src/units.c ****     {/* name */ "REV", /* unit */ SCPI_UNIT_REVOLUTION, /* mult */ 1},
 104:libscpi/src/units.c ****     {/* name */ "RS", /* unit */ SCPI_UNIT_STERADIAN, /* mult */ 1},
 105:libscpi/src/units.c **** #endif /* USE_UNITS_ANGLE */
 106:libscpi/src/units.c **** 
 107:libscpi/src/units.c **** #if USE_UNITS_ELECTRIC
 108:libscpi/src/units.c ****     /* Electric - capacitance */
 109:libscpi/src/units.c ****     {/* name */ "PF", /* unit */ SCPI_UNIT_FARAD, /* mult */ 1e-12},
 110:libscpi/src/units.c ****     {/* name */ "NF", /* unit */ SCPI_UNIT_FARAD, /* mult */ 1e-9},
 111:libscpi/src/units.c ****     {/* name */ "UF", /* unit */ SCPI_UNIT_FARAD, /* mult */ 1e-6},
 112:libscpi/src/units.c ****     {/* name */ "MF", /* unit */ SCPI_UNIT_FARAD, /* mult */ 1e-3},
 113:libscpi/src/units.c ****     {/* name */ "F", /* unit */ SCPI_UNIT_FARAD, /* mult */ 1},
 114:libscpi/src/units.c **** 
 115:libscpi/src/units.c ****     /* Electric - current */
 116:libscpi/src/units.c ****     {/* name */ "UA", /* unit */ SCPI_UNIT_AMPER, /* mult */ 1e-6},
 117:libscpi/src/units.c ****     {/* name */ "MA", /* unit */ SCPI_UNIT_AMPER, /* mult */ 1e-3},
 118:libscpi/src/units.c ****     {/* name */ "A", /* unit */ SCPI_UNIT_AMPER, /* mult */ 1},
 119:libscpi/src/units.c ****     {/* name */ "KA", /* unit */ SCPI_UNIT_AMPER, /* mult */ 1e3},
 120:libscpi/src/units.c **** 
 121:libscpi/src/units.c ****     /* Electric - potential */
 122:libscpi/src/units.c ****     {/* name */ "UV", /* unit */ SCPI_UNIT_VOLT, /* mult */ 1e-6},
 123:libscpi/src/units.c ****     {/* name */ "MV", /* unit */ SCPI_UNIT_VOLT, /* mult */ 1e-3},
 124:libscpi/src/units.c ****     {/* name */ "V", /* unit */ SCPI_UNIT_VOLT, /* mult */ 1},
 125:libscpi/src/units.c ****     {/* name */ "KV", /* unit */ SCPI_UNIT_VOLT, /* mult */ 1e3},
 126:libscpi/src/units.c **** 
 127:libscpi/src/units.c ****     /* Electric - resistance */
 128:libscpi/src/units.c ****     {/* name */ "OHM", /* unit */ SCPI_UNIT_OHM, /* mult */ 1},
 129:libscpi/src/units.c ****     {/* name */ "KOHM", /* unit */ SCPI_UNIT_OHM, /* mult */ 1e3},
 130:libscpi/src/units.c ****     {/* name */ "MOHM", /* unit */ SCPI_UNIT_OHM, /* mult */ 1e6},
 131:libscpi/src/units.c **** 
 132:libscpi/src/units.c ****     /* Inductance */
 133:libscpi/src/units.c ****     {/* name */ "UH", /* unit */ SCPI_UNIT_HENRY, /* mult */ 1e-6},
 134:libscpi/src/units.c ****     {/* name */ "MH", /* unit */ SCPI_UNIT_HENRY, /* mult */ 1e-3},
 135:libscpi/src/units.c ****     {/* name */ "H", /* unit */ SCPI_UNIT_HENRY, /* mult */ 1},
 136:libscpi/src/units.c **** #endif /* USE_UNITS_ELECTRIC */
 137:libscpi/src/units.c **** 
 138:libscpi/src/units.c **** #if USE_UNITS_ELECTRIC_CHARGE_CONDUCTANCE
 139:libscpi/src/units.c ****     /* Electric - charge */
 140:libscpi/src/units.c ****     {/* name */ "C", /* unit */ SCPI_UNIT_COULOMB, /* mult */ 1},
 141:libscpi/src/units.c **** 
 142:libscpi/src/units.c ****     /* Electric - conductance */
 143:libscpi/src/units.c ****     {/* name */ "USIE", /* unit */ SCPI_UNIT_SIEMENS, /* mult */ 1e-6},
 144:libscpi/src/units.c ****     {/* name */ "MSIE", /* unit */ SCPI_UNIT_SIEMENS, /* mult */ 1e-3},
 145:libscpi/src/units.c ****     {/* name */ "SIE", /* unit */ SCPI_UNIT_SIEMENS, /* mult */ 1},
ARM GAS  /tmp/ccqZTgoL.s 			page 4


 146:libscpi/src/units.c **** #endif /* USE_UNITS_ELECTRIC_CHARGE_CONDUCTANCE */
 147:libscpi/src/units.c **** 
 148:libscpi/src/units.c **** #if USE_UNITS_ENERGY_FORCE_MASS
 149:libscpi/src/units.c ****     /* Energy */
 150:libscpi/src/units.c ****     {/* name */ "J", /* unit */ SCPI_UNIT_JOULE, /* mult */ 1},
 151:libscpi/src/units.c ****     {/* name */ "KJ", /* unit */ SCPI_UNIT_JOULE, /* mult */ 1e3},
 152:libscpi/src/units.c ****     {/* name */ "MAJ", /* unit */ SCPI_UNIT_JOULE, /* mult */ 1e6},
 153:libscpi/src/units.c **** 
 154:libscpi/src/units.c ****     /* Force */
 155:libscpi/src/units.c ****     {/* name */ "N", /* unit */ SCPI_UNIT_NEWTON, /* mult */ 1},
 156:libscpi/src/units.c ****     {/* name */ "KN", /* unit */ SCPI_UNIT_NEWTON, /* mult */ 1e3},
 157:libscpi/src/units.c **** 
 158:libscpi/src/units.c ****     /* Pressure */
 159:libscpi/src/units.c ****     {/* name */ "ATM", /* unit */ SCPI_UNIT_ATMOSPHERE, /* mult */ 1},
 160:libscpi/src/units.c ****     {/* name */ "INHG", /* unit */ SCPI_UNIT_INCH_OF_MERCURY, /* mult */ 1},
 161:libscpi/src/units.c ****     {/* name */ "MMHG", /* unit */ SCPI_UNIT_MM_OF_MERCURY, /* mult */ 1},
 162:libscpi/src/units.c **** 
 163:libscpi/src/units.c ****     {/* name */ "TORR", /* unit */ SCPI_UNIT_TORT, /* mult */ 1},
 164:libscpi/src/units.c ****     {/* name */ "BAR", /* unit */ SCPI_UNIT_BAR, /* mult */ 1},
 165:libscpi/src/units.c **** 
 166:libscpi/src/units.c ****     {/* name */ "PAL", /* unit */ SCPI_UNIT_PASCAL, /* mult */ 1},
 167:libscpi/src/units.c ****     {/* name */ "KPAL", /* unit */ SCPI_UNIT_PASCAL, /* mult */ 1e3},
 168:libscpi/src/units.c ****     {/* name */ "MAPAL", /* unit */ SCPI_UNIT_PASCAL, /* mult */ 1e6},
 169:libscpi/src/units.c **** 
 170:libscpi/src/units.c ****     /* Viscosity kinematic */
 171:libscpi/src/units.c ****     {/* name */ "ST", /* unit */ SCPI_UNIT_STROKES, /* mult */ 1},
 172:libscpi/src/units.c **** 
 173:libscpi/src/units.c ****     /* Viscosity dynamic */
 174:libscpi/src/units.c ****     {/* name */ "P", /* unit */ SCPI_UNIT_POISE, /* mult */ 1},
 175:libscpi/src/units.c **** 
 176:libscpi/src/units.c ****     /* Viscosity dynamic */
 177:libscpi/src/units.c ****     {/* name */ "L", /* unit */ SCPI_UNIT_LITER, /* mult */ 1},
 178:libscpi/src/units.c **** 
 179:libscpi/src/units.c ****     /* Mass */
 180:libscpi/src/units.c ****     {/* name */ "MG", /* unit */ SCPI_UNIT_KILOGRAM, /* mult */ 1e-6},
 181:libscpi/src/units.c ****     {/* name */ "G", /* unit */ SCPI_UNIT_KILOGRAM, /* mult */ 1e-3},
 182:libscpi/src/units.c ****     {/* name */ "KG", /* unit */ SCPI_UNIT_KILOGRAM, /* mult */ 1},
 183:libscpi/src/units.c ****     {/* name */ "TNE", /* unit */ SCPI_UNIT_KILOGRAM, /* mult */ 1000},
 184:libscpi/src/units.c **** #endif /* USE_UNITS_ENERGY_FORCE_MASS */
 185:libscpi/src/units.c **** 
 186:libscpi/src/units.c **** #if USE_UNITS_FREQUENCY
 187:libscpi/src/units.c ****     /* Frequency */
 188:libscpi/src/units.c ****     {/* name */ "HZ", /* unit */ SCPI_UNIT_HERTZ, /* mult */ 1},
 189:libscpi/src/units.c ****     {/* name */ "KHZ", /* unit */ SCPI_UNIT_HERTZ, /* mult */ 1e3},
 190:libscpi/src/units.c ****     {/* name */ "MHZ", /* unit */ SCPI_UNIT_HERTZ, /* mult */ 1e6},
 191:libscpi/src/units.c ****     {/* name */ "GHZ", /* unit */ SCPI_UNIT_HERTZ, /* mult */ 1e9},
 192:libscpi/src/units.c **** #endif /* USE_UNITS_FREQUENCY */
 193:libscpi/src/units.c **** 
 194:libscpi/src/units.c **** #if USE_UNITS_DISTANCE
 195:libscpi/src/units.c ****     /* Length */
 196:libscpi/src/units.c ****     {/* name */ "ASU", /* unit */ SCPI_UNIT_ASTRONOMIC_UNIT, /* mult */ 1},
 197:libscpi/src/units.c ****     {/* name */ "PRS", /* unit */ SCPI_UNIT_PARSEC, /* mult */ 1},
 198:libscpi/src/units.c **** #if USE_UNITS_IMPERIAL
 199:libscpi/src/units.c ****     {/* name */ "IN", /* unit */ SCPI_UNIT_INCH, /* mult */ 1},
 200:libscpi/src/units.c ****     {/* name */ "FT", /* unit */ SCPI_UNIT_FOOT, /* mult */ 1},
 201:libscpi/src/units.c ****     {/* name */ "MI", /* unit */ SCPI_UNIT_MILE, /* mult */ 1},
 202:libscpi/src/units.c ****     {/* name */ "NAMI", /* unit */ SCPI_UNIT_NAUTICAL_MILE, /* mult */ 1},
ARM GAS  /tmp/ccqZTgoL.s 			page 5


 203:libscpi/src/units.c **** #endif /* USE_UNITS_IMPERIAL */
 204:libscpi/src/units.c **** 
 205:libscpi/src/units.c ****     {/* name */ "NM", /* unit */ SCPI_UNIT_METER, /* mult */ 1e-9},
 206:libscpi/src/units.c ****     {/* name */ "UM", /* unit */ SCPI_UNIT_METER, /* mult */ 1e-6},
 207:libscpi/src/units.c ****     {/* name */ "MM", /* unit */ SCPI_UNIT_METER, /* mult */ 1e-3},
 208:libscpi/src/units.c ****     {/* name */ "M", /* unit */ SCPI_UNIT_METER, /* mult */ 1},
 209:libscpi/src/units.c ****     {/* name */ "KM", /* unit */ SCPI_UNIT_METER, /* mult */ 1e3},
 210:libscpi/src/units.c **** #endif /* USE_UNITS_DISTANCE */
 211:libscpi/src/units.c **** 
 212:libscpi/src/units.c **** #if USE_UNITS_LIGHT
 213:libscpi/src/units.c ****     /* Illuminance */
 214:libscpi/src/units.c ****     {/* name */ "LX", /* unit */ SCPI_UNIT_LUX, /* mult */ 1},
 215:libscpi/src/units.c **** 
 216:libscpi/src/units.c ****     /* Luminous flux */
 217:libscpi/src/units.c ****     {/* name */ "LM", /* unit */ SCPI_UNIT_LUMEN, /* mult */ 1},
 218:libscpi/src/units.c **** 
 219:libscpi/src/units.c ****     /* Luminous intensity */
 220:libscpi/src/units.c ****     {/* name */ "CD", /* unit */ SCPI_UNIT_CANDELA, /* mult */ 1},
 221:libscpi/src/units.c **** #endif /* USE_UNITS_LIGHT */
 222:libscpi/src/units.c **** 
 223:libscpi/src/units.c **** #if USE_UNITS_MAGNETIC
 224:libscpi/src/units.c ****     /* Magnetic flux */
 225:libscpi/src/units.c ****     {/* name */ "WB", /* unit */ SCPI_UNIT_WEBER, /* mult */ 1},
 226:libscpi/src/units.c **** 
 227:libscpi/src/units.c ****     /* Magnetic induction */
 228:libscpi/src/units.c ****     {/* name */ "NT", /* unit */ SCPI_UNIT_TESLA, /* mult */ 1e-9},
 229:libscpi/src/units.c ****     {/* name */ "UT", /* unit */ SCPI_UNIT_TESLA, /* mult */ 1e-6},
 230:libscpi/src/units.c ****     {/* name */ "MT", /* unit */ SCPI_UNIT_TESLA, /* mult */ 1e-3},
 231:libscpi/src/units.c ****     {/* name */ "T", /* unit */ SCPI_UNIT_TESLA, /* mult */ 1},
 232:libscpi/src/units.c **** #endif /* USE_UNITS_MAGNETIC */
 233:libscpi/src/units.c **** 
 234:libscpi/src/units.c **** #if USE_UNITS_POWER
 235:libscpi/src/units.c ****     /* Power */
 236:libscpi/src/units.c ****     {/* name */ "W", /* unit */ SCPI_UNIT_WATT, /* mult */ 1},
 237:libscpi/src/units.c ****     {/* name */ "DBM", /* unit */ SCPI_UNIT_DBM, /* mult */ 1},
 238:libscpi/src/units.c ****     {/* name */ "DBMW", /* unit */ SCPI_UNIT_DBM, /* mult */ 1},
 239:libscpi/src/units.c **** #endif /* USE_UNITS_POWER  */
 240:libscpi/src/units.c **** 
 241:libscpi/src/units.c **** #if USE_UNITS_RATIO
 242:libscpi/src/units.c ****     /* Ratio */
 243:libscpi/src/units.c ****     {/* name */ "DB", /* unit */ SCPI_UNIT_DECIBEL, /* mult */ 1},
 244:libscpi/src/units.c ****     {/* name */ "PCT", /* unit */ SCPI_UNIT_UNITLESS, /* mult */ 1e-2},
 245:libscpi/src/units.c ****     {/* name */ "PPM", /* unit */ SCPI_UNIT_UNITLESS, /* mult */ 1e-6},
 246:libscpi/src/units.c **** #endif /* USE_UNITS_RATIO */
 247:libscpi/src/units.c **** 
 248:libscpi/src/units.c **** #if USE_UNITS_TEMPERATURE
 249:libscpi/src/units.c ****     /* Temperature */
 250:libscpi/src/units.c ****     {/* name */ "CEL", /* unit */ SCPI_UNIT_CELSIUS, /* mult */ 1},
 251:libscpi/src/units.c **** #if USE_UNITS_IMPERIAL
 252:libscpi/src/units.c ****     {/* name */ "FAR", /* unit */ SCPI_UNIT_FAHRENHEIT, /* mult */ 1},
 253:libscpi/src/units.c **** #endif /* USE_UNITS_IMPERIAL */
 254:libscpi/src/units.c ****     {/* name */ "K", /* unit */ SCPI_UNIT_KELVIN, /* mult */ 1},
 255:libscpi/src/units.c **** #endif /* USE_UNITS_TEMPERATURE */
 256:libscpi/src/units.c **** 
 257:libscpi/src/units.c **** #if USE_UNITS_TIME
 258:libscpi/src/units.c ****     /* Time */
 259:libscpi/src/units.c ****     {/* name */ "PS", /* unit */ SCPI_UNIT_SECOND, /* mult */ 1e-12},
ARM GAS  /tmp/ccqZTgoL.s 			page 6


 260:libscpi/src/units.c ****     {/* name */ "NS", /* unit */ SCPI_UNIT_SECOND, /* mult */ 1e-9},
 261:libscpi/src/units.c ****     {/* name */ "US", /* unit */ SCPI_UNIT_SECOND, /* mult */ 1e-6},
 262:libscpi/src/units.c ****     {/* name */ "MS", /* unit */ SCPI_UNIT_SECOND, /* mult */ 1e-3},
 263:libscpi/src/units.c ****     {/* name */ "S", /* unit */ SCPI_UNIT_SECOND, /* mult */ 1},
 264:libscpi/src/units.c ****     {/* name */ "MIN", /* unit */ SCPI_UNIT_SECOND, /* mult */ 60},
 265:libscpi/src/units.c ****     {/* name */ "HR", /* unit */ SCPI_UNIT_SECOND, /* mult */ 3600},
 266:libscpi/src/units.c ****     {/* name */ "D", /* unit */ SCPI_UNIT_DAY, /* mult */ 1},
 267:libscpi/src/units.c ****     {/* name */ "ANN", /* unit */ SCPI_UNIT_YEAR, /* mult */ 1},
 268:libscpi/src/units.c **** #endif /* USE_UNITS_TIME */
 269:libscpi/src/units.c **** 
 270:libscpi/src/units.c ****     SCPI_UNITS_LIST_END,
 271:libscpi/src/units.c **** };
 272:libscpi/src/units.c **** 
 273:libscpi/src/units.c **** /*
 274:libscpi/src/units.c ****  * Special number values definition
 275:libscpi/src/units.c ****  */
 276:libscpi/src/units.c **** const scpi_choice_def_t scpi_special_numbers_def[] = {
 277:libscpi/src/units.c ****     {/* name */ "MINimum", /* type */ SCPI_NUM_MIN},
 278:libscpi/src/units.c ****     {/* name */ "MAXimum", /* type */ SCPI_NUM_MAX},
 279:libscpi/src/units.c ****     {/* name */ "DEFault", /* type */ SCPI_NUM_DEF},
 280:libscpi/src/units.c ****     {/* name */ "UP", /* type */ SCPI_NUM_UP},
 281:libscpi/src/units.c ****     {/* name */ "DOWN", /* type */ SCPI_NUM_DOWN},
 282:libscpi/src/units.c ****     {/* name */ "NAN", /* type */ SCPI_NUM_NAN},
 283:libscpi/src/units.c ****     {/* name */ "INFinity", /* type */ SCPI_NUM_INF},
 284:libscpi/src/units.c ****     {/* name */ "NINF", /* type */ SCPI_NUM_NINF},
 285:libscpi/src/units.c ****     {/* name */ "AUTO", /* type */ SCPI_NUM_AUTO},
 286:libscpi/src/units.c ****     SCPI_CHOICE_LIST_END,
 287:libscpi/src/units.c **** };
 288:libscpi/src/units.c **** 
 289:libscpi/src/units.c **** /**
 290:libscpi/src/units.c ****  * Convert string describing unit to its representation
 291:libscpi/src/units.c ****  * @param units units patterns
 292:libscpi/src/units.c ****  * @param unit text representation of unknown unit
 293:libscpi/src/units.c ****  * @param len length of text representation
 294:libscpi/src/units.c ****  * @return pointer of related unit definition or NULL
 295:libscpi/src/units.c ****  */
 296:libscpi/src/units.c **** static const scpi_unit_def_t * translateUnit(const scpi_unit_def_t * units, const char * unit, size
 297:libscpi/src/units.c ****     int i;
 298:libscpi/src/units.c **** 
 299:libscpi/src/units.c ****     if (units == NULL) {
 300:libscpi/src/units.c ****         return NULL;
 301:libscpi/src/units.c ****     }
 302:libscpi/src/units.c **** 
 303:libscpi/src/units.c ****     for (i = 0; units[i].name != NULL; i++) {
 304:libscpi/src/units.c ****         if (compareStr(unit, len, units[i].name, strlen(units[i].name))) {
 305:libscpi/src/units.c ****             return &units[i];
 306:libscpi/src/units.c ****         }
 307:libscpi/src/units.c ****     }
 308:libscpi/src/units.c **** 
 309:libscpi/src/units.c ****     return NULL;
 310:libscpi/src/units.c **** }
 311:libscpi/src/units.c **** 
 312:libscpi/src/units.c **** /**
 313:libscpi/src/units.c ****  * Convert unit definition to string
 314:libscpi/src/units.c ****  * @param units units definitions (patterns)
 315:libscpi/src/units.c ****  * @param unit type of unit
 316:libscpi/src/units.c ****  * @return string representation of unit
ARM GAS  /tmp/ccqZTgoL.s 			page 7


 317:libscpi/src/units.c ****  */
 318:libscpi/src/units.c **** static const char * translateUnitInverse(const scpi_unit_def_t * units, const scpi_unit_t unit) {
  28              		.loc 1 318 97 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		.loc 1 318 97 is_stmt 0 view .LVU1
  33 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 24
  36              		.cfi_offset 3, -24
  37              		.cfi_offset 4, -20
  38              		.cfi_offset 5, -16
  39              		.cfi_offset 6, -12
  40              		.cfi_offset 7, -8
  41              		.cfi_offset 14, -4
  42 0002 0600     		movs	r6, r0
  43 0004 0F00     		movs	r7, r1
 319:libscpi/src/units.c ****     int i;
  44              		.loc 1 319 5 is_stmt 1 view .LVU2
 320:libscpi/src/units.c **** 
 321:libscpi/src/units.c ****     if (units == NULL) {
  45              		.loc 1 321 5 view .LVU3
  46              		.loc 1 321 8 is_stmt 0 view .LVU4
  47 0006 0028     		cmp	r0, #0
  48 0008 14D0     		beq	.L6
 322:libscpi/src/units.c ****         return NULL;
 323:libscpi/src/units.c ****     }
 324:libscpi/src/units.c **** 
 325:libscpi/src/units.c ****     for (i = 0; units[i].name != NULL; i++) {
  49              		.loc 1 325 12 view .LVU5
  50 000a 0024     		movs	r4, #0
  51 000c 00E0     		b	.L3
  52              	.LVL1:
  53              	.L4:
  54              		.loc 1 325 40 is_stmt 1 discriminator 2 view .LVU6
  55              		.loc 1 325 41 is_stmt 0 discriminator 2 view .LVU7
  56 000e 0134     		adds	r4, r4, #1
  57              	.LVL2:
  58              	.L3:
  59              		.loc 1 325 17 is_stmt 1 discriminator 1 view .LVU8
  60              		.loc 1 325 22 is_stmt 0 discriminator 1 view .LVU9
  61 0010 2301     		lsls	r3, r4, #4
  62 0012 F318     		adds	r3, r6, r3
  63              		.loc 1 325 25 discriminator 1 view .LVU10
  64 0014 1D68     		ldr	r5, [r3]
  65              		.loc 1 325 5 discriminator 1 view .LVU11
  66 0016 002D     		cmp	r5, #0
  67 0018 0AD0     		beq	.L1
 326:libscpi/src/units.c ****         if ((units[i].unit == unit) && (units[i].mult == 1)) {
  68              		.loc 1 326 9 is_stmt 1 view .LVU12
  69              		.loc 1 326 22 is_stmt 0 view .LVU13
  70 001a 1A79     		ldrb	r2, [r3, #4]
  71              		.loc 1 326 12 view .LVU14
  72 001c BA42     		cmp	r2, r7
  73 001e F6D1     		bne	.L4
  74              		.loc 1 326 49 discriminator 1 view .LVU15
ARM GAS  /tmp/ccqZTgoL.s 			page 8


  75 0020 9868     		ldr	r0, [r3, #8]
  76 0022 D968     		ldr	r1, [r3, #12]
  77              		.loc 1 326 37 discriminator 1 view .LVU16
  78 0024 0022     		movs	r2, #0
  79 0026 044B     		ldr	r3, .L7
  80 0028 FFF7FEFF 		bl	__aeabi_dcmpeq
  81              	.LVL3:
  82 002c 0028     		cmp	r0, #0
  83 002e EED0     		beq	.L4
  84              	.LVL4:
  85              	.L1:
 327:libscpi/src/units.c ****             return units[i].name;
 328:libscpi/src/units.c ****         }
 329:libscpi/src/units.c ****     }
 330:libscpi/src/units.c **** 
 331:libscpi/src/units.c ****     return NULL;
 332:libscpi/src/units.c **** }
  86              		.loc 1 332 1 view .LVU17
  87 0030 2800     		movs	r0, r5
  88              		@ sp needed
  89              	.LVL5:
  90              		.loc 1 332 1 view .LVU18
  91 0032 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
  92              	.LVL6:
  93              	.L6:
 322:libscpi/src/units.c ****     }
  94              		.loc 1 322 16 view .LVU19
  95 0034 0500     		movs	r5, r0
  96 0036 FBE7     		b	.L1
  97              	.L8:
  98              		.align	2
  99              	.L7:
 100 0038 0000F03F 		.word	1072693248
 101              		.cfi_endproc
 102              	.LFE1:
 104              		.section	.text.translateUnit,"ax",%progbits
 105              		.align	1
 106              		.syntax unified
 107              		.code	16
 108              		.thumb_func
 109              		.fpu softvfp
 111              	translateUnit:
 112              	.LVL7:
 113              	.LFB0:
 296:libscpi/src/units.c ****     int i;
 114              		.loc 1 296 108 is_stmt 1 view -0
 115              		.cfi_startproc
 116              		@ args = 0, pretend = 0, frame = 0
 117              		@ frame_needed = 0, uses_anonymous_args = 0
 296:libscpi/src/units.c ****     int i;
 118              		.loc 1 296 108 is_stmt 0 view .LVU21
 119 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 120              	.LCFI1:
 121              		.cfi_def_cfa_offset 24
 122              		.cfi_offset 3, -24
 123              		.cfi_offset 4, -20
 124              		.cfi_offset 5, -16
ARM GAS  /tmp/ccqZTgoL.s 			page 9


 125              		.cfi_offset 6, -12
 126              		.cfi_offset 7, -8
 127              		.cfi_offset 14, -4
 128 0002 CE46     		mov	lr, r9
 129 0004 4746     		mov	r7, r8
 130 0006 80B5     		push	{r7, lr}
 131              	.LCFI2:
 132              		.cfi_def_cfa_offset 32
 133              		.cfi_offset 8, -32
 134              		.cfi_offset 9, -28
 135 0008 071E     		subs	r7, r0, #0
 136 000a 8846     		mov	r8, r1
 137 000c 9146     		mov	r9, r2
 297:libscpi/src/units.c **** 
 138              		.loc 1 297 5 is_stmt 1 view .LVU22
 299:libscpi/src/units.c ****         return NULL;
 139              		.loc 1 299 5 view .LVU23
 299:libscpi/src/units.c ****         return NULL;
 140              		.loc 1 299 8 is_stmt 0 view .LVU24
 141 000e 12D0     		beq	.L13
 303:libscpi/src/units.c ****         if (compareStr(unit, len, units[i].name, strlen(units[i].name))) {
 142              		.loc 1 303 12 view .LVU25
 143 0010 0026     		movs	r6, #0
 144              	.LVL8:
 145              	.L11:
 303:libscpi/src/units.c ****         if (compareStr(unit, len, units[i].name, strlen(units[i].name))) {
 146              		.loc 1 303 17 is_stmt 1 discriminator 1 view .LVU26
 303:libscpi/src/units.c ****         if (compareStr(unit, len, units[i].name, strlen(units[i].name))) {
 147              		.loc 1 303 22 is_stmt 0 discriminator 1 view .LVU27
 148 0012 3501     		lsls	r5, r6, #4
 149 0014 7D19     		adds	r5, r7, r5
 303:libscpi/src/units.c ****         if (compareStr(unit, len, units[i].name, strlen(units[i].name))) {
 150              		.loc 1 303 25 discriminator 1 view .LVU28
 151 0016 2C68     		ldr	r4, [r5]
 303:libscpi/src/units.c ****         if (compareStr(unit, len, units[i].name, strlen(units[i].name))) {
 152              		.loc 1 303 5 discriminator 1 view .LVU29
 153 0018 002C     		cmp	r4, #0
 154 001a 0FD0     		beq	.L9
 304:libscpi/src/units.c ****             return &units[i];
 155              		.loc 1 304 9 is_stmt 1 view .LVU30
 304:libscpi/src/units.c ****             return &units[i];
 156              		.loc 1 304 13 is_stmt 0 view .LVU31
 157 001c 2000     		movs	r0, r4
 158 001e FFF7FEFF 		bl	strlen
 159              	.LVL9:
 160 0022 0300     		movs	r3, r0
 161 0024 2200     		movs	r2, r4
 162 0026 4946     		mov	r1, r9
 163 0028 4046     		mov	r0, r8
 164 002a FFF7FEFF 		bl	compareStr
 165              	.LVL10:
 304:libscpi/src/units.c ****             return &units[i];
 166              		.loc 1 304 12 view .LVU32
 167 002e 0028     		cmp	r0, #0
 168 0030 03D1     		bne	.L14
 303:libscpi/src/units.c ****         if (compareStr(unit, len, units[i].name, strlen(units[i].name))) {
 169              		.loc 1 303 40 is_stmt 1 discriminator 2 view .LVU33
ARM GAS  /tmp/ccqZTgoL.s 			page 10


 303:libscpi/src/units.c ****         if (compareStr(unit, len, units[i].name, strlen(units[i].name))) {
 170              		.loc 1 303 41 is_stmt 0 discriminator 2 view .LVU34
 171 0032 0136     		adds	r6, r6, #1
 172              	.LVL11:
 303:libscpi/src/units.c ****         if (compareStr(unit, len, units[i].name, strlen(units[i].name))) {
 173              		.loc 1 303 41 discriminator 2 view .LVU35
 174 0034 EDE7     		b	.L11
 175              	.LVL12:
 176              	.L13:
 300:libscpi/src/units.c ****     }
 177              		.loc 1 300 16 view .LVU36
 178 0036 0400     		movs	r4, r0
 179 0038 00E0     		b	.L9
 180              	.LVL13:
 181              	.L14:
 305:libscpi/src/units.c ****         }
 182              		.loc 1 305 20 view .LVU37
 183 003a 2C00     		movs	r4, r5
 184              	.LVL14:
 185              	.L9:
 310:libscpi/src/units.c **** 
 186              		.loc 1 310 1 view .LVU38
 187 003c 2000     		movs	r0, r4
 188              		@ sp needed
 189              	.LVL15:
 190              	.LVL16:
 191              	.LVL17:
 310:libscpi/src/units.c **** 
 192              		.loc 1 310 1 view .LVU39
 193 003e 0CBC     		pop	{r2, r3}
 194 0040 9046     		mov	r8, r2
 195 0042 9946     		mov	r9, r3
 196 0044 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 197              		.cfi_endproc
 198              	.LFE0:
 200              		.global	__aeabi_dmul
 201              		.section	.text.transformNumber,"ax",%progbits
 202              		.align	1
 203              		.syntax unified
 204              		.code	16
 205              		.thumb_func
 206              		.fpu softvfp
 208              	transformNumber:
 209              	.LVL18:
 210              	.LFB2:
 333:libscpi/src/units.c **** 
 334:libscpi/src/units.c **** /**
 335:libscpi/src/units.c ****  * Transform number to base units
 336:libscpi/src/units.c ****  * @param context
 337:libscpi/src/units.c ****  * @param unit text representation of unit
 338:libscpi/src/units.c ****  * @param len length of text representation
 339:libscpi/src/units.c ****  * @param value preparsed numeric value
 340:libscpi/src/units.c ****  * @return TRUE if value parameter was converted to base units
 341:libscpi/src/units.c ****  */
 342:libscpi/src/units.c **** static scpi_bool_t transformNumber(scpi_t * context, const char * unit, size_t len, scpi_number_t *
 211              		.loc 1 342 108 is_stmt 1 view -0
 212              		.cfi_startproc
ARM GAS  /tmp/ccqZTgoL.s 			page 11


 213              		@ args = 0, pretend = 0, frame = 0
 214              		@ frame_needed = 0, uses_anonymous_args = 0
 215              		.loc 1 342 108 is_stmt 0 view .LVU41
 216 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 217              	.LCFI3:
 218              		.cfi_def_cfa_offset 24
 219              		.cfi_offset 3, -24
 220              		.cfi_offset 4, -20
 221              		.cfi_offset 5, -16
 222              		.cfi_offset 6, -12
 223              		.cfi_offset 7, -8
 224              		.cfi_offset 14, -4
 225 0002 0600     		movs	r6, r0
 226 0004 0D00     		movs	r5, r1
 227 0006 1400     		movs	r4, r2
 228 0008 1F00     		movs	r7, r3
 343:libscpi/src/units.c ****     size_t s;
 229              		.loc 1 343 5 is_stmt 1 view .LVU42
 344:libscpi/src/units.c ****     const scpi_unit_def_t * unitDef;
 230              		.loc 1 344 5 view .LVU43
 345:libscpi/src/units.c ****     s = skipWhitespace(unit, len);
 231              		.loc 1 345 5 view .LVU44
 232              		.loc 1 345 9 is_stmt 0 view .LVU45
 233 000a 1100     		movs	r1, r2
 234              	.LVL19:
 235              		.loc 1 345 9 view .LVU46
 236 000c 2800     		movs	r0, r5
 237              	.LVL20:
 238              		.loc 1 345 9 view .LVU47
 239 000e FFF7FEFF 		bl	skipWhitespace
 240              	.LVL21:
 346:libscpi/src/units.c **** 
 347:libscpi/src/units.c ****     if (s == len) {
 241              		.loc 1 347 5 is_stmt 1 view .LVU48
 242              		.loc 1 347 8 is_stmt 0 view .LVU49
 243 0012 8442     		cmp	r4, r0
 244 0014 12D0     		beq	.L19
 348:libscpi/src/units.c ****         value->unit = SCPI_UNIT_NONE;
 349:libscpi/src/units.c ****         return TRUE;
 350:libscpi/src/units.c ****     }
 351:libscpi/src/units.c **** 
 352:libscpi/src/units.c ****     unitDef = translateUnit(context->units, unit + s, len - s);
 245              		.loc 1 352 5 is_stmt 1 view .LVU50
 246              		.loc 1 352 15 is_stmt 0 view .LVU51
 247 0016 221A     		subs	r2, r4, r0
 248 0018 2918     		adds	r1, r5, r0
 249 001a F06D     		ldr	r0, [r6, #92]
 250              	.LVL22:
 251              		.loc 1 352 15 view .LVU52
 252 001c FFF7FEFF 		bl	translateUnit
 253              	.LVL23:
 254 0020 041E     		subs	r4, r0, #0
 255              	.LVL24:
 353:libscpi/src/units.c **** 
 354:libscpi/src/units.c ****     if (unitDef == NULL) {
 256              		.loc 1 354 5 is_stmt 1 view .LVU53
 257              		.loc 1 354 8 is_stmt 0 view .LVU54
ARM GAS  /tmp/ccqZTgoL.s 			page 12


 258 0022 0FD0     		beq	.L20
 355:libscpi/src/units.c ****         SCPI_ErrorPush(context, SCPI_ERROR_INVALID_SUFFIX);
 356:libscpi/src/units.c ****         return FALSE;
 357:libscpi/src/units.c ****     }
 358:libscpi/src/units.c **** 
 359:libscpi/src/units.c ****     value->content.value *= unitDef->mult;
 259              		.loc 1 359 5 is_stmt 1 view .LVU55
 260              		.loc 1 359 26 is_stmt 0 view .LVU56
 261 0024 8268     		ldr	r2, [r0, #8]
 262 0026 C368     		ldr	r3, [r0, #12]
 263 0028 B868     		ldr	r0, [r7, #8]
 264 002a F968     		ldr	r1, [r7, #12]
 265              	.LVL25:
 266              		.loc 1 359 26 view .LVU57
 267 002c FFF7FEFF 		bl	__aeabi_dmul
 268              	.LVL26:
 269 0030 B860     		str	r0, [r7, #8]
 270 0032 F960     		str	r1, [r7, #12]
 360:libscpi/src/units.c ****     value->unit = unitDef->unit;
 271              		.loc 1 360 5 is_stmt 1 view .LVU58
 272              		.loc 1 360 26 is_stmt 0 view .LVU59
 273 0034 2379     		ldrb	r3, [r4, #4]
 274              		.loc 1 360 17 view .LVU60
 275 0036 3B74     		strb	r3, [r7, #16]
 361:libscpi/src/units.c **** 
 362:libscpi/src/units.c ****     return TRUE;
 276              		.loc 1 362 5 is_stmt 1 view .LVU61
 277              		.loc 1 362 12 is_stmt 0 view .LVU62
 278 0038 0120     		movs	r0, #1
 279              	.LVL27:
 280              	.L17:
 363:libscpi/src/units.c **** }
 281              		.loc 1 363 1 view .LVU63
 282              		@ sp needed
 283              	.LVL28:
 284              	.LVL29:
 285              	.LVL30:
 286              		.loc 1 363 1 view .LVU64
 287 003a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 288              	.LVL31:
 289              	.L19:
 348:libscpi/src/units.c ****         return TRUE;
 290              		.loc 1 348 9 is_stmt 1 view .LVU65
 348:libscpi/src/units.c ****         return TRUE;
 291              		.loc 1 348 21 is_stmt 0 view .LVU66
 292 003c 0023     		movs	r3, #0
 293 003e 3B74     		strb	r3, [r7, #16]
 349:libscpi/src/units.c ****     }
 294              		.loc 1 349 9 is_stmt 1 view .LVU67
 349:libscpi/src/units.c ****     }
 295              		.loc 1 349 16 is_stmt 0 view .LVU68
 296 0040 0120     		movs	r0, #1
 297              	.LVL32:
 349:libscpi/src/units.c ****     }
 298              		.loc 1 349 16 view .LVU69
 299 0042 FAE7     		b	.L17
 300              	.LVL33:
ARM GAS  /tmp/ccqZTgoL.s 			page 13


 301              	.L20:
 355:libscpi/src/units.c ****         return FALSE;
 302              		.loc 1 355 9 is_stmt 1 view .LVU70
 303 0044 8321     		movs	r1, #131
 304 0046 4942     		rsbs	r1, r1, #0
 305 0048 3000     		movs	r0, r6
 306              	.LVL34:
 355:libscpi/src/units.c ****         return FALSE;
 307              		.loc 1 355 9 is_stmt 0 view .LVU71
 308 004a FFF7FEFF 		bl	SCPI_ErrorPush
 309              	.LVL35:
 356:libscpi/src/units.c ****     }
 310              		.loc 1 356 9 is_stmt 1 view .LVU72
 356:libscpi/src/units.c ****     }
 311              		.loc 1 356 16 is_stmt 0 view .LVU73
 312 004e 0020     		movs	r0, #0
 313 0050 F3E7     		b	.L17
 314              		.cfi_endproc
 315              	.LFE2:
 317              		.section	.text.SCPI_ParamNumber,"ax",%progbits
 318              		.align	1
 319              		.global	SCPI_ParamNumber
 320              		.syntax unified
 321              		.code	16
 322              		.thumb_func
 323              		.fpu softvfp
 325              	SCPI_ParamNumber:
 326              	.LVL36:
 327              	.LFB3:
 364:libscpi/src/units.c **** 
 365:libscpi/src/units.c **** /**
 366:libscpi/src/units.c ****  * Parse parameter as number, number with unit or special value (min, max, default, ...)
 367:libscpi/src/units.c ****  * @param context
 368:libscpi/src/units.c ****  * @param value return value
 369:libscpi/src/units.c ****  * @param mandatory if the parameter is mandatory
 370:libscpi/src/units.c ****  * @return
 371:libscpi/src/units.c ****  */
 372:libscpi/src/units.c **** scpi_bool_t SCPI_ParamNumber(scpi_t * context, const scpi_choice_def_t * special, scpi_number_t * v
 328              		.loc 1 372 129 is_stmt 1 view -0
 329              		.cfi_startproc
 330              		@ args = 0, pretend = 0, frame = 40
 331              		@ frame_needed = 0, uses_anonymous_args = 0
 332              		.loc 1 372 129 is_stmt 0 view .LVU75
 333 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 334              	.LCFI4:
 335              		.cfi_def_cfa_offset 20
 336              		.cfi_offset 4, -20
 337              		.cfi_offset 5, -16
 338              		.cfi_offset 6, -12
 339              		.cfi_offset 7, -8
 340              		.cfi_offset 14, -4
 341 0002 8BB0     		sub	sp, sp, #44
 342              	.LCFI5:
 343              		.cfi_def_cfa_offset 64
 344 0004 0700     		movs	r7, r0
 345 0006 0C00     		movs	r4, r1
 346 0008 1500     		movs	r5, r2
ARM GAS  /tmp/ccqZTgoL.s 			page 14


 347 000a 1A00     		movs	r2, r3
 348              	.LVL37:
 373:libscpi/src/units.c ****     scpi_token_t token;
 349              		.loc 1 373 5 is_stmt 1 view .LVU76
 374:libscpi/src/units.c ****     lex_state_t state;
 350              		.loc 1 374 5 view .LVU77
 375:libscpi/src/units.c ****     scpi_parameter_t param;
 351              		.loc 1 375 5 view .LVU78
 376:libscpi/src/units.c ****     scpi_bool_t result;
 352              		.loc 1 376 5 view .LVU79
 377:libscpi/src/units.c ****     int32_t tag;
 353              		.loc 1 377 5 view .LVU80
 378:libscpi/src/units.c **** 
 379:libscpi/src/units.c ****     if (!value) {
 354              		.loc 1 379 5 view .LVU81
 355              		.loc 1 379 8 is_stmt 0 view .LVU82
 356 000c 002D     		cmp	r5, #0
 357 000e 1DD0     		beq	.L38
 380:libscpi/src/units.c ****         SCPI_ErrorPush(context, SCPI_ERROR_SYSTEM_ERROR);
 381:libscpi/src/units.c ****         return FALSE;
 382:libscpi/src/units.c ****     }
 383:libscpi/src/units.c **** 
 384:libscpi/src/units.c ****     result = SCPI_Parameter(context, &param, mandatory);
 358              		.loc 1 384 5 is_stmt 1 view .LVU83
 359              		.loc 1 384 14 is_stmt 0 view .LVU84
 360 0010 01A9     		add	r1, sp, #4
 361              	.LVL38:
 362              		.loc 1 384 14 view .LVU85
 363 0012 FFF7FEFF 		bl	SCPI_Parameter
 364              	.LVL39:
 365              		.loc 1 384 14 view .LVU86
 366 0016 061E     		subs	r6, r0, #0
 367              	.LVL40:
 385:libscpi/src/units.c **** 
 386:libscpi/src/units.c ****     if (!result) {
 368              		.loc 1 386 5 is_stmt 1 view .LVU87
 369              		.loc 1 386 8 is_stmt 0 view .LVU88
 370 0018 1CD0     		beq	.L23
 387:libscpi/src/units.c ****         return result;
 388:libscpi/src/units.c ****     }
 389:libscpi/src/units.c **** 
 390:libscpi/src/units.c ****     state.buffer = param.ptr;
 371              		.loc 1 390 5 is_stmt 1 view .LVU89
 372              		.loc 1 390 25 is_stmt 0 view .LVU90
 373 001a 01AB     		add	r3, sp, #4
 374 001c 029A     		ldr	r2, [sp, #8]
 375              		.loc 1 390 18 view .LVU91
 376 001e 0492     		str	r2, [sp, #16]
 391:libscpi/src/units.c ****     state.pos = state.buffer;
 377              		.loc 1 391 5 is_stmt 1 view .LVU92
 378              		.loc 1 391 15 is_stmt 0 view .LVU93
 379 0020 0592     		str	r2, [sp, #20]
 392:libscpi/src/units.c ****     state.len = param.len;
 380              		.loc 1 392 5 is_stmt 1 view .LVU94
 381              		.loc 1 392 15 is_stmt 0 view .LVU95
 382 0022 039A     		ldr	r2, [sp, #12]
 383 0024 0692     		str	r2, [sp, #24]
ARM GAS  /tmp/ccqZTgoL.s 			page 15


 393:libscpi/src/units.c **** 
 394:libscpi/src/units.c ****     switch (param.type) {
 384              		.loc 1 394 5 is_stmt 1 view .LVU96
 385              		.loc 1 394 18 is_stmt 0 view .LVU97
 386 0026 1B78     		ldrb	r3, [r3]
 387              		.loc 1 394 5 view .LVU98
 388 0028 063B     		subs	r3, r3, #6
 389 002a 052B     		cmp	r3, #5
 390 002c 02D8     		bhi	.L24
 395:libscpi/src/units.c ****         case SCPI_TOKEN_DECIMAL_NUMERIC_PROGRAM_DATA:
 396:libscpi/src/units.c ****         case SCPI_TOKEN_HEXNUM:
 397:libscpi/src/units.c ****         case SCPI_TOKEN_OCTNUM:
 398:libscpi/src/units.c ****         case SCPI_TOKEN_BINNUM:
 399:libscpi/src/units.c ****         case SCPI_TOKEN_DECIMAL_NUMERIC_PROGRAM_DATA_WITH_SUFFIX:
 400:libscpi/src/units.c ****         case SCPI_TOKEN_PROGRAM_MNEMONIC:
 401:libscpi/src/units.c ****             value->unit = SCPI_UNIT_NONE;
 391              		.loc 1 401 13 is_stmt 1 view .LVU99
 392              		.loc 1 401 25 is_stmt 0 view .LVU100
 393 002e 0023     		movs	r3, #0
 394 0030 2B74     		strb	r3, [r5, #16]
 402:libscpi/src/units.c ****             value->special = FALSE;
 395              		.loc 1 402 13 is_stmt 1 view .LVU101
 396              		.loc 1 402 28 is_stmt 0 view .LVU102
 397 0032 2B70     		strb	r3, [r5]
 403:libscpi/src/units.c ****             result = TRUE;
 398              		.loc 1 403 13 is_stmt 1 view .LVU103
 399              	.LVL41:
 404:libscpi/src/units.c ****             break;
 400              		.loc 1 404 13 view .LVU104
 401              	.L24:
 405:libscpi/src/units.c ****         default:
 406:libscpi/src/units.c ****             break;
 407:libscpi/src/units.c ****     }
 408:libscpi/src/units.c **** 
 409:libscpi/src/units.c ****     switch (param.type) {
 402              		.loc 1 409 5 view .LVU105
 403              		.loc 1 409 18 is_stmt 0 view .LVU106
 404 0034 01AB     		add	r3, sp, #4
 405 0036 1B78     		ldrb	r3, [r3]
 406              		.loc 1 409 5 view .LVU107
 407 0038 082B     		cmp	r3, #8
 408 003a 1DD0     		beq	.L25
 409 003c 0DD8     		bhi	.L26
 410 003e 062B     		cmp	r3, #6
 411 0040 1DD0     		beq	.L27
 412 0042 072B     		cmp	r3, #7
 413 0044 10D1     		bne	.L29
 410:libscpi/src/units.c ****         case SCPI_TOKEN_DECIMAL_NUMERIC_PROGRAM_DATA:
 411:libscpi/src/units.c ****         case SCPI_TOKEN_DECIMAL_NUMERIC_PROGRAM_DATA_WITH_SUFFIX:
 412:libscpi/src/units.c ****         case SCPI_TOKEN_PROGRAM_MNEMONIC:
 413:libscpi/src/units.c ****             value->base = 10;
 414:libscpi/src/units.c ****             break;
 415:libscpi/src/units.c ****         case SCPI_TOKEN_BINNUM:
 416:libscpi/src/units.c ****             value->base = 2;
 417:libscpi/src/units.c ****             break;
 418:libscpi/src/units.c ****         case SCPI_TOKEN_HEXNUM:
 419:libscpi/src/units.c ****             value->base = 16;
ARM GAS  /tmp/ccqZTgoL.s 			page 16


 420:libscpi/src/units.c ****             break;
 421:libscpi/src/units.c ****         case SCPI_TOKEN_OCTNUM:
 422:libscpi/src/units.c ****             value->base = 8;
 414              		.loc 1 422 13 is_stmt 1 view .LVU108
 415              		.loc 1 422 25 is_stmt 0 view .LVU109
 416 0046 0822     		movs	r2, #8
 417 0048 6A74     		strb	r2, [r5, #17]
 423:libscpi/src/units.c ****             break;
 418              		.loc 1 423 13 is_stmt 1 view .LVU110
 419 004a 0DE0     		b	.L29
 420              	.LVL42:
 421              	.L38:
 380:libscpi/src/units.c ****         return FALSE;
 422              		.loc 1 380 9 view .LVU111
 423 004c 3349     		ldr	r1, .L39
 424              	.LVL43:
 380:libscpi/src/units.c ****         return FALSE;
 425              		.loc 1 380 9 is_stmt 0 view .LVU112
 426 004e FFF7FEFF 		bl	SCPI_ErrorPush
 427              	.LVL44:
 381:libscpi/src/units.c ****     }
 428              		.loc 1 381 9 is_stmt 1 view .LVU113
 381:libscpi/src/units.c ****     }
 429              		.loc 1 381 16 is_stmt 0 view .LVU114
 430 0052 0026     		movs	r6, #0
 431              	.L23:
 424:libscpi/src/units.c ****         default:
 425:libscpi/src/units.c ****             break;
 426:libscpi/src/units.c ****     }
 427:libscpi/src/units.c **** 
 428:libscpi/src/units.c ****     switch (param.type) {
 429:libscpi/src/units.c ****         case SCPI_TOKEN_DECIMAL_NUMERIC_PROGRAM_DATA:
 430:libscpi/src/units.c ****             SCPI_ParamToDouble(context, &param, &(value->content.value));
 431:libscpi/src/units.c ****             break;
 432:libscpi/src/units.c ****         case SCPI_TOKEN_HEXNUM:
 433:libscpi/src/units.c ****             SCPI_ParamToDouble(context, &param, &(value->content.value));
 434:libscpi/src/units.c ****             break;
 435:libscpi/src/units.c ****         case SCPI_TOKEN_OCTNUM:
 436:libscpi/src/units.c ****             SCPI_ParamToDouble(context, &param, &(value->content.value));
 437:libscpi/src/units.c ****             break;
 438:libscpi/src/units.c ****         case SCPI_TOKEN_BINNUM:
 439:libscpi/src/units.c ****             SCPI_ParamToDouble(context, &param, &(value->content.value));
 440:libscpi/src/units.c ****             break;
 441:libscpi/src/units.c ****         case SCPI_TOKEN_DECIMAL_NUMERIC_PROGRAM_DATA_WITH_SUFFIX:
 442:libscpi/src/units.c ****             scpiLex_DecimalNumericProgramData(&state, &token);
 443:libscpi/src/units.c ****             scpiLex_WhiteSpace(&state, &token);
 444:libscpi/src/units.c ****             scpiLex_SuffixProgramData(&state, &token);
 445:libscpi/src/units.c **** 
 446:libscpi/src/units.c ****             SCPI_ParamToDouble(context, &param, &(value->content.value));
 447:libscpi/src/units.c **** 
 448:libscpi/src/units.c ****             result = transformNumber(context, token.ptr, token.len, value);
 449:libscpi/src/units.c ****             break;
 450:libscpi/src/units.c ****         case SCPI_TOKEN_PROGRAM_MNEMONIC:
 451:libscpi/src/units.c ****             scpiLex_WhiteSpace(&state, &token);
 452:libscpi/src/units.c ****             scpiLex_CharacterProgramData(&state, &token);
 453:libscpi/src/units.c **** 
 454:libscpi/src/units.c ****             /* convert string to special number type */
ARM GAS  /tmp/ccqZTgoL.s 			page 17


 455:libscpi/src/units.c ****             result = SCPI_ParamToChoice(context, &token, special, &tag);
 456:libscpi/src/units.c **** 
 457:libscpi/src/units.c ****             value->special = TRUE;
 458:libscpi/src/units.c ****             value->content.tag = tag;
 459:libscpi/src/units.c **** 
 460:libscpi/src/units.c ****             break;
 461:libscpi/src/units.c ****         default:
 462:libscpi/src/units.c ****             result = FALSE;
 463:libscpi/src/units.c ****     }
 464:libscpi/src/units.c **** 
 465:libscpi/src/units.c ****     return result;
 466:libscpi/src/units.c **** }
 432              		.loc 1 466 1 view .LVU115
 433 0054 3000     		movs	r0, r6
 434 0056 0BB0     		add	sp, sp, #44
 435              		@ sp needed
 436              	.LVL45:
 437              	.LVL46:
 438              	.LVL47:
 439              		.loc 1 466 1 view .LVU116
 440 0058 F0BD     		pop	{r4, r5, r6, r7, pc}
 441              	.LVL48:
 442              	.L26:
 409:libscpi/src/units.c ****         case SCPI_TOKEN_DECIMAL_NUMERIC_PROGRAM_DATA:
 443              		.loc 1 409 5 view .LVU117
 444 005a 1A00     		movs	r2, r3
 445 005c 093A     		subs	r2, r2, #9
 446 005e D2B2     		uxtb	r2, r2
 447 0060 022A     		cmp	r2, #2
 448 0062 01D8     		bhi	.L29
 413:libscpi/src/units.c ****             break;
 449              		.loc 1 413 13 is_stmt 1 view .LVU118
 413:libscpi/src/units.c ****             break;
 450              		.loc 1 413 25 is_stmt 0 view .LVU119
 451 0064 0A22     		movs	r2, #10
 452 0066 6A74     		strb	r2, [r5, #17]
 414:libscpi/src/units.c ****         case SCPI_TOKEN_BINNUM:
 453              		.loc 1 414 13 is_stmt 1 view .LVU120
 454              	.L29:
 428:libscpi/src/units.c ****         case SCPI_TOKEN_DECIMAL_NUMERIC_PROGRAM_DATA:
 455              		.loc 1 428 5 view .LVU121
 456 0068 063B     		subs	r3, r3, #6
 457 006a DAB2     		uxtb	r2, r3
 458 006c 052A     		cmp	r2, #5
 459 006e 53D8     		bhi	.L37
 460 0070 9300     		lsls	r3, r2, #2
 461 0072 2B4A     		ldr	r2, .L39+4
 462 0074 D358     		ldr	r3, [r2, r3]
 463 0076 9F46     		mov	pc, r3
 464              		.section	.rodata.SCPI_ParamNumber,"a",%progbits
 465              		.align	2
 466              	.L31:
 467 0000 92000000 		.word	.L36
 468 0004 A0000000 		.word	.L35
 469 0008 AE000000 		.word	.L34
 470 000c F0000000 		.word	.L33
 471 0010 84000000 		.word	.L32
ARM GAS  /tmp/ccqZTgoL.s 			page 18


 472 0014 BC000000 		.word	.L30
 473              		.section	.text.SCPI_ParamNumber
 474              	.L25:
 416:libscpi/src/units.c ****             break;
 475              		.loc 1 416 13 view .LVU122
 416:libscpi/src/units.c ****             break;
 476              		.loc 1 416 25 is_stmt 0 view .LVU123
 477 0078 0222     		movs	r2, #2
 478 007a 6A74     		strb	r2, [r5, #17]
 417:libscpi/src/units.c ****         case SCPI_TOKEN_HEXNUM:
 479              		.loc 1 417 13 is_stmt 1 view .LVU124
 480 007c F4E7     		b	.L29
 481              	.L27:
 419:libscpi/src/units.c ****             break;
 482              		.loc 1 419 13 view .LVU125
 419:libscpi/src/units.c ****             break;
 483              		.loc 1 419 25 is_stmt 0 view .LVU126
 484 007e 1022     		movs	r2, #16
 485 0080 6A74     		strb	r2, [r5, #17]
 420:libscpi/src/units.c ****         case SCPI_TOKEN_OCTNUM:
 486              		.loc 1 420 13 is_stmt 1 view .LVU127
 487 0082 F1E7     		b	.L29
 488              	.L32:
 430:libscpi/src/units.c ****             break;
 489              		.loc 1 430 13 view .LVU128
 490 0084 2A00     		movs	r2, r5
 491 0086 0832     		adds	r2, r2, #8
 492 0088 01A9     		add	r1, sp, #4
 493 008a 3800     		movs	r0, r7
 494 008c FFF7FEFF 		bl	SCPI_ParamToDouble
 495              	.LVL49:
 431:libscpi/src/units.c ****         case SCPI_TOKEN_HEXNUM:
 496              		.loc 1 431 13 view .LVU129
 497 0090 E0E7     		b	.L23
 498              	.L36:
 433:libscpi/src/units.c ****             break;
 499              		.loc 1 433 13 view .LVU130
 500 0092 2A00     		movs	r2, r5
 501 0094 0832     		adds	r2, r2, #8
 502 0096 01A9     		add	r1, sp, #4
 503 0098 3800     		movs	r0, r7
 504 009a FFF7FEFF 		bl	SCPI_ParamToDouble
 505              	.LVL50:
 434:libscpi/src/units.c ****         case SCPI_TOKEN_OCTNUM:
 506              		.loc 1 434 13 view .LVU131
 507 009e D9E7     		b	.L23
 508              	.L35:
 436:libscpi/src/units.c ****             break;
 509              		.loc 1 436 13 view .LVU132
 510 00a0 2A00     		movs	r2, r5
 511 00a2 0832     		adds	r2, r2, #8
 512 00a4 01A9     		add	r1, sp, #4
 513 00a6 3800     		movs	r0, r7
 514 00a8 FFF7FEFF 		bl	SCPI_ParamToDouble
 515              	.LVL51:
 437:libscpi/src/units.c ****         case SCPI_TOKEN_BINNUM:
 516              		.loc 1 437 13 view .LVU133
ARM GAS  /tmp/ccqZTgoL.s 			page 19


 517 00ac D2E7     		b	.L23
 518              	.L34:
 439:libscpi/src/units.c ****             break;
 519              		.loc 1 439 13 view .LVU134
 520 00ae 2A00     		movs	r2, r5
 521 00b0 0832     		adds	r2, r2, #8
 522 00b2 01A9     		add	r1, sp, #4
 523 00b4 3800     		movs	r0, r7
 524 00b6 FFF7FEFF 		bl	SCPI_ParamToDouble
 525              	.LVL52:
 440:libscpi/src/units.c ****         case SCPI_TOKEN_DECIMAL_NUMERIC_PROGRAM_DATA_WITH_SUFFIX:
 526              		.loc 1 440 13 view .LVU135
 527 00ba CBE7     		b	.L23
 528              	.L30:
 442:libscpi/src/units.c ****             scpiLex_WhiteSpace(&state, &token);
 529              		.loc 1 442 13 view .LVU136
 530 00bc 07A9     		add	r1, sp, #28
 531 00be 04A8     		add	r0, sp, #16
 532 00c0 FFF7FEFF 		bl	scpiLex_DecimalNumericProgramData
 533              	.LVL53:
 443:libscpi/src/units.c ****             scpiLex_SuffixProgramData(&state, &token);
 534              		.loc 1 443 13 view .LVU137
 535 00c4 07A9     		add	r1, sp, #28
 536 00c6 04A8     		add	r0, sp, #16
 537 00c8 FFF7FEFF 		bl	scpiLex_WhiteSpace
 538              	.LVL54:
 444:libscpi/src/units.c **** 
 539              		.loc 1 444 13 view .LVU138
 540 00cc 07A9     		add	r1, sp, #28
 541 00ce 04A8     		add	r0, sp, #16
 542 00d0 FFF7FEFF 		bl	scpiLex_SuffixProgramData
 543              	.LVL55:
 446:libscpi/src/units.c **** 
 544              		.loc 1 446 13 view .LVU139
 545 00d4 2A00     		movs	r2, r5
 546 00d6 0832     		adds	r2, r2, #8
 547 00d8 01A9     		add	r1, sp, #4
 548 00da 3800     		movs	r0, r7
 549 00dc FFF7FEFF 		bl	SCPI_ParamToDouble
 550              	.LVL56:
 448:libscpi/src/units.c ****             break;
 551              		.loc 1 448 13 view .LVU140
 448:libscpi/src/units.c ****             break;
 552              		.loc 1 448 52 is_stmt 0 view .LVU141
 553 00e0 0899     		ldr	r1, [sp, #32]
 448:libscpi/src/units.c ****             break;
 554              		.loc 1 448 63 view .LVU142
 555 00e2 099A     		ldr	r2, [sp, #36]
 448:libscpi/src/units.c ****             break;
 556              		.loc 1 448 22 view .LVU143
 557 00e4 2B00     		movs	r3, r5
 558 00e6 3800     		movs	r0, r7
 559 00e8 FFF7FEFF 		bl	transformNumber
 560              	.LVL57:
 561 00ec 0600     		movs	r6, r0
 562              	.LVL58:
 449:libscpi/src/units.c ****         case SCPI_TOKEN_PROGRAM_MNEMONIC:
ARM GAS  /tmp/ccqZTgoL.s 			page 20


 563              		.loc 1 449 13 is_stmt 1 view .LVU144
 564 00ee B1E7     		b	.L23
 565              	.LVL59:
 566              	.L33:
 451:libscpi/src/units.c ****             scpiLex_CharacterProgramData(&state, &token);
 567              		.loc 1 451 13 view .LVU145
 568 00f0 07A9     		add	r1, sp, #28
 569 00f2 04A8     		add	r0, sp, #16
 570 00f4 FFF7FEFF 		bl	scpiLex_WhiteSpace
 571              	.LVL60:
 452:libscpi/src/units.c **** 
 572              		.loc 1 452 13 view .LVU146
 573 00f8 07A9     		add	r1, sp, #28
 574 00fa 04A8     		add	r0, sp, #16
 575 00fc FFF7FEFF 		bl	scpiLex_CharacterProgramData
 576              	.LVL61:
 455:libscpi/src/units.c **** 
 577              		.loc 1 455 13 view .LVU147
 455:libscpi/src/units.c **** 
 578              		.loc 1 455 22 is_stmt 0 view .LVU148
 579 0100 6B46     		mov	r3, sp
 580 0102 2200     		movs	r2, r4
 581 0104 07A9     		add	r1, sp, #28
 582 0106 3800     		movs	r0, r7
 583 0108 FFF7FEFF 		bl	SCPI_ParamToChoice
 584              	.LVL62:
 585 010c 0600     		movs	r6, r0
 586              	.LVL63:
 457:libscpi/src/units.c ****             value->content.tag = tag;
 587              		.loc 1 457 13 is_stmt 1 view .LVU149
 457:libscpi/src/units.c ****             value->content.tag = tag;
 588              		.loc 1 457 28 is_stmt 0 view .LVU150
 589 010e 0123     		movs	r3, #1
 590 0110 2B70     		strb	r3, [r5]
 458:libscpi/src/units.c **** 
 591              		.loc 1 458 13 is_stmt 1 view .LVU151
 458:libscpi/src/units.c **** 
 592              		.loc 1 458 32 is_stmt 0 view .LVU152
 593 0112 009B     		ldr	r3, [sp]
 594 0114 AB60     		str	r3, [r5, #8]
 460:libscpi/src/units.c ****         default:
 595              		.loc 1 460 13 is_stmt 1 view .LVU153
 596 0116 9DE7     		b	.L23
 597              	.LVL64:
 598              	.L37:
 381:libscpi/src/units.c ****     }
 599              		.loc 1 381 16 is_stmt 0 view .LVU154
 600 0118 0026     		movs	r6, #0
 601 011a 9BE7     		b	.L23
 602              	.L40:
 603              		.align	2
 604              	.L39:
 605 011c CAFEFFFF 		.word	-310
 606 0120 00000000 		.word	.L31
 607              		.cfi_endproc
 608              	.LFE3:
 610              		.section	.rodata.SCPI_NumberToStr.str1.4,"aMS",%progbits,1
ARM GAS  /tmp/ccqZTgoL.s 			page 21


 611              		.align	2
 612              	.LC1:
 613 0000 2000     		.ascii	" \000"
 614              		.section	.text.SCPI_NumberToStr,"ax",%progbits
 615              		.align	1
 616              		.global	SCPI_NumberToStr
 617              		.syntax unified
 618              		.code	16
 619              		.thumb_func
 620              		.fpu softvfp
 622              	SCPI_NumberToStr:
 623              	.LVL65:
 624              	.LFB4:
 467:libscpi/src/units.c **** 
 468:libscpi/src/units.c **** /**
 469:libscpi/src/units.c ****  * Convert scpi_number_t to string
 470:libscpi/src/units.c ****  * @param context
 471:libscpi/src/units.c ****  * @param value number value
 472:libscpi/src/units.c ****  * @param str target string
 473:libscpi/src/units.c ****  * @param len max length of string including null-character termination
 474:libscpi/src/units.c ****  * @return number of chars written to string
 475:libscpi/src/units.c ****  */
 476:libscpi/src/units.c **** size_t SCPI_NumberToStr(scpi_t * context, const scpi_choice_def_t * special, scpi_number_t * value,
 625              		.loc 1 476 125 is_stmt 1 view -0
 626              		.cfi_startproc
 627              		@ args = 4, pretend = 0, frame = 8
 628              		@ frame_needed = 0, uses_anonymous_args = 0
 629              		.loc 1 476 125 is_stmt 0 view .LVU156
 630 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 631              	.LCFI6:
 632              		.cfi_def_cfa_offset 20
 633              		.cfi_offset 4, -20
 634              		.cfi_offset 5, -16
 635              		.cfi_offset 6, -12
 636              		.cfi_offset 7, -8
 637              		.cfi_offset 14, -4
 638 0002 83B0     		sub	sp, sp, #12
 639              	.LCFI7:
 640              		.cfi_def_cfa_offset 32
 641 0004 0500     		movs	r5, r0
 642 0006 0800     		movs	r0, r1
 643              	.LVL66:
 644              		.loc 1 476 125 view .LVU157
 645 0008 1400     		movs	r4, r2
 646 000a 1E00     		movs	r6, r3
 477:libscpi/src/units.c ****     const char * type;
 647              		.loc 1 477 5 is_stmt 1 view .LVU158
 478:libscpi/src/units.c ****     const char * unit;
 648              		.loc 1 478 5 view .LVU159
 479:libscpi/src/units.c ****     size_t result;
 649              		.loc 1 479 5 view .LVU160
 480:libscpi/src/units.c **** 
 481:libscpi/src/units.c ****     if (!value || !str || len==0) {
 650              		.loc 1 481 5 view .LVU161
 651              		.loc 1 481 8 is_stmt 0 view .LVU162
 652 000c 002A     		cmp	r2, #0
 653 000e 47D0     		beq	.L46
ARM GAS  /tmp/ccqZTgoL.s 			page 22


 654              		.loc 1 481 16 discriminator 1 view .LVU163
 655 0010 002B     		cmp	r3, #0
 656 0012 47D0     		beq	.L47
 657              		.loc 1 481 24 discriminator 2 view .LVU164
 658 0014 089B     		ldr	r3, [sp, #32]
 659              	.LVL67:
 660              		.loc 1 481 24 discriminator 2 view .LVU165
 661 0016 002B     		cmp	r3, #0
 662 0018 46D0     		beq	.L48
 482:libscpi/src/units.c ****         return 0;
 483:libscpi/src/units.c ****     }
 484:libscpi/src/units.c **** 
 485:libscpi/src/units.c ****     if (value->special) {
 663              		.loc 1 485 5 is_stmt 1 view .LVU166
 664              		.loc 1 485 14 is_stmt 0 view .LVU167
 665 001a 1378     		ldrb	r3, [r2]
 666              		.loc 1 485 8 view .LVU168
 667 001c 002B     		cmp	r3, #0
 668 001e 18D0     		beq	.L43
 486:libscpi/src/units.c ****         if (SCPI_ChoiceToName(special, value->content.tag, &type)) {
 669              		.loc 1 486 9 is_stmt 1 view .LVU169
 670              		.loc 1 486 13 is_stmt 0 view .LVU170
 671 0020 9168     		ldr	r1, [r2, #8]
 672              	.LVL68:
 673              		.loc 1 486 13 view .LVU171
 674 0022 01AA     		add	r2, sp, #4
 675              	.LVL69:
 676              		.loc 1 486 13 view .LVU172
 677 0024 FFF7FEFF 		bl	SCPI_ChoiceToName
 678              	.LVL70:
 679              		.loc 1 486 12 view .LVU173
 680 0028 0028     		cmp	r0, #0
 681 002a 03D1     		bne	.L49
 487:libscpi/src/units.c ****             strncpy(str, type, len);
 488:libscpi/src/units.c ****             result = SCPIDEFINE_strnlen(str, len - 1);
 489:libscpi/src/units.c ****             str[result] = '\0';
 490:libscpi/src/units.c ****             return result;
 491:libscpi/src/units.c ****         } else {
 492:libscpi/src/units.c ****             str[0] = '\0';
 682              		.loc 1 492 13 is_stmt 1 view .LVU174
 683              		.loc 1 492 20 is_stmt 0 view .LVU175
 684 002c 0023     		movs	r3, #0
 685 002e 3370     		strb	r3, [r6]
 493:libscpi/src/units.c ****             return 0;
 686              		.loc 1 493 13 is_stmt 1 view .LVU176
 687              		.loc 1 493 20 is_stmt 0 view .LVU177
 688 0030 0027     		movs	r7, #0
 689 0032 3AE0     		b	.L41
 690              	.L49:
 487:libscpi/src/units.c ****             strncpy(str, type, len);
 691              		.loc 1 487 13 is_stmt 1 view .LVU178
 692 0034 089A     		ldr	r2, [sp, #32]
 693 0036 0199     		ldr	r1, [sp, #4]
 694 0038 3000     		movs	r0, r6
 695 003a FFF7FEFF 		bl	strncpy
 696              	.LVL71:
 488:libscpi/src/units.c ****             str[result] = '\0';
ARM GAS  /tmp/ccqZTgoL.s 			page 23


 697              		.loc 1 488 13 view .LVU179
 488:libscpi/src/units.c ****             str[result] = '\0';
 698              		.loc 1 488 22 is_stmt 0 view .LVU180
 699 003e 089B     		ldr	r3, [sp, #32]
 700 0040 591E     		subs	r1, r3, #1
 701 0042 3000     		movs	r0, r6
 702 0044 FFF7FEFF 		bl	strnlen
 703              	.LVL72:
 704 0048 0700     		movs	r7, r0
 705              	.LVL73:
 489:libscpi/src/units.c ****             return result;
 706              		.loc 1 489 13 is_stmt 1 view .LVU181
 489:libscpi/src/units.c ****             return result;
 707              		.loc 1 489 16 is_stmt 0 view .LVU182
 708 004a 3018     		adds	r0, r6, r0
 709              	.LVL74:
 489:libscpi/src/units.c ****             return result;
 710              		.loc 1 489 25 view .LVU183
 711 004c 0022     		movs	r2, #0
 712 004e 0270     		strb	r2, [r0]
 490:libscpi/src/units.c ****         } else {
 713              		.loc 1 490 13 is_stmt 1 view .LVU184
 490:libscpi/src/units.c ****         } else {
 714              		.loc 1 490 20 is_stmt 0 view .LVU185
 715 0050 2BE0     		b	.L41
 716              	.LVL75:
 717              	.L43:
 494:libscpi/src/units.c ****         }
 495:libscpi/src/units.c ****     }
 496:libscpi/src/units.c **** 
 497:libscpi/src/units.c ****     result = SCPI_DoubleToStr(value->content.value, str, len);
 718              		.loc 1 497 5 is_stmt 1 view .LVU186
 719              		.loc 1 497 14 is_stmt 0 view .LVU187
 720 0052 089B     		ldr	r3, [sp, #32]
 721 0054 3200     		movs	r2, r6
 722              	.LVL76:
 723              		.loc 1 497 14 view .LVU188
 724 0056 A068     		ldr	r0, [r4, #8]
 725 0058 E168     		ldr	r1, [r4, #12]
 726              	.LVL77:
 727              		.loc 1 497 14 view .LVU189
 728 005a FFF7FEFF 		bl	SCPI_DoubleToStr
 729              	.LVL78:
 730              		.loc 1 497 14 view .LVU190
 731 005e 0700     		movs	r7, r0
 732              	.LVL79:
 498:libscpi/src/units.c **** 
 499:libscpi/src/units.c ****     if (result + 1 < len) {
 733              		.loc 1 499 5 is_stmt 1 view .LVU191
 734              		.loc 1 499 16 is_stmt 0 view .LVU192
 735 0060 431C     		adds	r3, r0, #1
 736              		.loc 1 499 8 view .LVU193
 737 0062 089A     		ldr	r2, [sp, #32]
 738 0064 9342     		cmp	r3, r2
 739 0066 20D2     		bcs	.L41
 500:libscpi/src/units.c ****         unit = translateUnitInverse(context->units, value->unit);
 740              		.loc 1 500 9 is_stmt 1 view .LVU194
ARM GAS  /tmp/ccqZTgoL.s 			page 24


 741              		.loc 1 500 16 is_stmt 0 view .LVU195
 742 0068 217C     		ldrb	r1, [r4, #16]
 743 006a E86D     		ldr	r0, [r5, #92]
 744              	.LVL80:
 745              		.loc 1 500 16 view .LVU196
 746 006c FFF7FEFF 		bl	translateUnitInverse
 747              	.LVL81:
 748 0070 041E     		subs	r4, r0, #0
 749              	.LVL82:
 501:libscpi/src/units.c **** 
 502:libscpi/src/units.c ****         if (unit) {
 750              		.loc 1 502 9 is_stmt 1 view .LVU197
 751              		.loc 1 502 12 is_stmt 0 view .LVU198
 752 0072 1AD0     		beq	.L41
 503:libscpi/src/units.c ****             strncat(str, " ", len - result);
 753              		.loc 1 503 13 is_stmt 1 view .LVU199
 754 0074 089B     		ldr	r3, [sp, #32]
 755 0076 DD1B     		subs	r5, r3, r7
 756              	.LVL83:
 757              		.loc 1 503 13 is_stmt 0 view .LVU200
 758 0078 2A00     		movs	r2, r5
 759 007a 0D49     		ldr	r1, .L51
 760 007c 3000     		movs	r0, r6
 761              	.LVL84:
 762              		.loc 1 503 13 view .LVU201
 763 007e FFF7FEFF 		bl	strncat
 764              	.LVL85:
 504:libscpi/src/units.c ****             if (result + 2 < len) {
 765              		.loc 1 504 13 is_stmt 1 view .LVU202
 766              		.loc 1 504 24 is_stmt 0 view .LVU203
 767 0082 0237     		adds	r7, r7, #2
 768              	.LVL86:
 769              		.loc 1 504 16 view .LVU204
 770 0084 089B     		ldr	r3, [sp, #32]
 771 0086 9F42     		cmp	r7, r3
 772 0088 04D3     		bcc	.L50
 773              	.L45:
 505:libscpi/src/units.c ****                 strncat(str, unit, len - result - 1);
 506:libscpi/src/units.c ****             }
 507:libscpi/src/units.c ****             result = strlen(str);
 774              		.loc 1 507 13 is_stmt 1 view .LVU205
 775              		.loc 1 507 22 is_stmt 0 view .LVU206
 776 008a 3000     		movs	r0, r6
 777 008c FFF7FEFF 		bl	strlen
 778              	.LVL87:
 779 0090 0700     		movs	r7, r0
 780              	.LVL88:
 781              		.loc 1 507 22 view .LVU207
 782 0092 0AE0     		b	.L41
 783              	.LVL89:
 784              	.L50:
 505:libscpi/src/units.c ****                 strncat(str, unit, len - result - 1);
 785              		.loc 1 505 17 is_stmt 1 view .LVU208
 786 0094 6A1E     		subs	r2, r5, #1
 787 0096 2100     		movs	r1, r4
 788 0098 3000     		movs	r0, r6
 789 009a FFF7FEFF 		bl	strncat
ARM GAS  /tmp/ccqZTgoL.s 			page 25


 790              	.LVL90:
 791 009e F4E7     		b	.L45
 792              	.LVL91:
 793              	.L46:
 482:libscpi/src/units.c ****     }
 794              		.loc 1 482 16 is_stmt 0 view .LVU209
 795 00a0 0027     		movs	r7, #0
 796 00a2 02E0     		b	.L41
 797              	.L47:
 798 00a4 0027     		movs	r7, #0
 799 00a6 00E0     		b	.L41
 800              	.LVL92:
 801              	.L48:
 482:libscpi/src/units.c ****     }
 802              		.loc 1 482 16 view .LVU210
 803 00a8 089F     		ldr	r7, [sp, #32]
 804              	.LVL93:
 805              	.L41:
 508:libscpi/src/units.c ****         }
 509:libscpi/src/units.c ****     }
 510:libscpi/src/units.c **** 
 511:libscpi/src/units.c ****     return result;
 512:libscpi/src/units.c **** }
 806              		.loc 1 512 1 view .LVU211
 807 00aa 3800     		movs	r0, r7
 808 00ac 03B0     		add	sp, sp, #12
 809              		@ sp needed
 810              	.LVL94:
 811              		.loc 1 512 1 view .LVU212
 812 00ae F0BD     		pop	{r4, r5, r6, r7, pc}
 813              	.L52:
 814              		.align	2
 815              	.L51:
 816 00b0 00000000 		.word	.LC1
 817              		.cfi_endproc
 818              	.LFE4:
 820              		.global	scpi_special_numbers_def
 821              		.section	.rodata.str1.4,"aMS",%progbits,1
 822              		.align	2
 823              	.LC3:
 824 0000 4D494E69 		.ascii	"MINimum\000"
 824      6D756D00 
 825              		.align	2
 826              	.LC4:
 827 0008 4D415869 		.ascii	"MAXimum\000"
 827      6D756D00 
 828              		.align	2
 829              	.LC5:
 830 0010 44454661 		.ascii	"DEFault\000"
 830      756C7400 
 831              		.align	2
 832              	.LC6:
 833 0018 555000   		.ascii	"UP\000"
 834 001b 00       		.align	2
 835              	.LC7:
 836 001c 444F574E 		.ascii	"DOWN\000"
 836      00
ARM GAS  /tmp/ccqZTgoL.s 			page 26


 837 0021 000000   		.align	2
 838              	.LC8:
 839 0024 4E414E00 		.ascii	"NAN\000"
 840              		.align	2
 841              	.LC9:
 842 0028 494E4669 		.ascii	"INFinity\000"
 842      6E697479 
 842      00
 843 0031 000000   		.align	2
 844              	.LC10:
 845 0034 4E494E46 		.ascii	"NINF\000"
 845      00
 846 0039 000000   		.align	2
 847              	.LC11:
 848 003c 4155544F 		.ascii	"AUTO\000"
 848      00
 849              		.global	scpi_units_def
 850 0041 000000   		.align	2
 851              	.LC12:
 852 0044 504600   		.ascii	"PF\000"
 853 0047 00       		.align	2
 854              	.LC13:
 855 0048 4E4600   		.ascii	"NF\000"
 856 004b 00       		.align	2
 857              	.LC14:
 858 004c 554600   		.ascii	"UF\000"
 859 004f 00       		.align	2
 860              	.LC15:
 861 0050 4D4600   		.ascii	"MF\000"
 862 0053 00       		.align	2
 863              	.LC16:
 864 0054 4600     		.ascii	"F\000"
 865 0056 0000     		.align	2
 866              	.LC17:
 867 0058 554100   		.ascii	"UA\000"
 868 005b 00       		.align	2
 869              	.LC18:
 870 005c 4D4100   		.ascii	"MA\000"
 871 005f 00       		.align	2
 872              	.LC19:
 873 0060 4100     		.ascii	"A\000"
 874 0062 0000     		.align	2
 875              	.LC20:
 876 0064 4B4100   		.ascii	"KA\000"
 877 0067 00       		.align	2
 878              	.LC21:
 879 0068 555600   		.ascii	"UV\000"
 880 006b 00       		.align	2
 881              	.LC22:
 882 006c 4D5600   		.ascii	"MV\000"
 883 006f 00       		.align	2
 884              	.LC23:
 885 0070 5600     		.ascii	"V\000"
 886 0072 0000     		.align	2
 887              	.LC24:
 888 0074 4B5600   		.ascii	"KV\000"
 889 0077 00       		.align	2
ARM GAS  /tmp/ccqZTgoL.s 			page 27


 890              	.LC25:
 891 0078 4F484D00 		.ascii	"OHM\000"
 892              		.align	2
 893              	.LC26:
 894 007c 4B4F484D 		.ascii	"KOHM\000"
 894      00
 895 0081 000000   		.align	2
 896              	.LC27:
 897 0084 4D4F484D 		.ascii	"MOHM\000"
 897      00
 898 0089 000000   		.align	2
 899              	.LC28:
 900 008c 554800   		.ascii	"UH\000"
 901 008f 00       		.align	2
 902              	.LC29:
 903 0090 4D4800   		.ascii	"MH\000"
 904 0093 00       		.align	2
 905              	.LC30:
 906 0094 4800     		.ascii	"H\000"
 907 0096 0000     		.align	2
 908              	.LC31:
 909 0098 485A00   		.ascii	"HZ\000"
 910 009b 00       		.align	2
 911              	.LC32:
 912 009c 4B485A00 		.ascii	"KHZ\000"
 913              		.align	2
 914              	.LC33:
 915 00a0 4D485A00 		.ascii	"MHZ\000"
 916              		.align	2
 917              	.LC34:
 918 00a4 47485A00 		.ascii	"GHZ\000"
 919              		.align	2
 920              	.LC35:
 921 00a8 5700     		.ascii	"W\000"
 922 00aa 0000     		.align	2
 923              	.LC36:
 924 00ac 44424D00 		.ascii	"DBM\000"
 925              		.align	2
 926              	.LC37:
 927 00b0 44424D57 		.ascii	"DBMW\000"
 927      00
 928              		.section	.rodata.scpi_special_numbers_def,"a"
 929              		.align	2
 932              	scpi_special_numbers_def:
 933 0000 00000000 		.word	.LC3
 934 0004 01000000 		.word	1
 935 0008 08000000 		.word	.LC4
 936 000c 02000000 		.word	2
 937 0010 10000000 		.word	.LC5
 938 0014 03000000 		.word	3
 939 0018 18000000 		.word	.LC6
 940 001c 04000000 		.word	4
 941 0020 1C000000 		.word	.LC7
 942 0024 05000000 		.word	5
 943 0028 24000000 		.word	.LC8
 944 002c 06000000 		.word	6
 945 0030 28000000 		.word	.LC9
ARM GAS  /tmp/ccqZTgoL.s 			page 28


 946 0034 07000000 		.word	7
 947 0038 34000000 		.word	.LC10
 948 003c 08000000 		.word	8
 949 0040 3C000000 		.word	.LC11
 950 0044 09000000 		.word	9
 951 0048 00000000 		.word	0
 952 004c FFFFFFFF 		.word	-1
 953              		.section	.rodata.scpi_units_def,"a"
 954              		.align	3
 957              	scpi_units_def:
 958 0000 44000000 		.word	.LC12
 959 0004 11       		.byte	17
 960 0005 000000   		.space	3
 961 0008 11EA2D81 		.word	2167269905
 962 000c 9997713D 		.word	1030854553
 963 0010 48000000 		.word	.LC13
 964 0014 11       		.byte	17
 965 0015 000000   		.space	3
 966 0018 95D626E8 		.word	3894859413
 967 001c 0B2E113E 		.word	1041313291
 968 0020 4C000000 		.word	.LC14
 969 0024 11       		.byte	17
 970 0025 000000   		.space	3
 971 0028 8DEDB5A0 		.word	2696277389
 972 002c F7C6B03E 		.word	1051772663
 973 0030 50000000 		.word	.LC15
 974 0034 11       		.byte	17
 975 0035 000000   		.space	3
 976 0038 FCA9F1D2 		.word	3539053052
 977 003c 4D62503F 		.word	1062232653
 978 0040 54000000 		.word	.LC16
 979 0044 11       		.byte	17
 980 0045 000000   		.space	3
 981 0048 00000000 		.word	0
 982 004c 0000F03F 		.word	1072693248
 983 0050 58000000 		.word	.LC17
 984 0054 02       		.byte	2
 985 0055 000000   		.space	3
 986 0058 8DEDB5A0 		.word	2696277389
 987 005c F7C6B03E 		.word	1051772663
 988 0060 5C000000 		.word	.LC18
 989 0064 02       		.byte	2
 990 0065 000000   		.space	3
 991 0068 FCA9F1D2 		.word	3539053052
 992 006c 4D62503F 		.word	1062232653
 993 0070 60000000 		.word	.LC19
 994 0074 02       		.byte	2
 995 0075 000000   		.space	3
 996 0078 00000000 		.word	0
 997 007c 0000F03F 		.word	1072693248
 998 0080 64000000 		.word	.LC20
 999 0084 02       		.byte	2
 1000 0085 000000   		.space	3
 1001 0088 00000000 		.word	0
 1002 008c 00408F40 		.word	1083129856
 1003 0090 68000000 		.word	.LC21
 1004 0094 01       		.byte	1
ARM GAS  /tmp/ccqZTgoL.s 			page 29


 1005 0095 000000   		.space	3
 1006 0098 8DEDB5A0 		.word	2696277389
 1007 009c F7C6B03E 		.word	1051772663
 1008 00a0 6C000000 		.word	.LC22
 1009 00a4 01       		.byte	1
 1010 00a5 000000   		.space	3
 1011 00a8 FCA9F1D2 		.word	3539053052
 1012 00ac 4D62503F 		.word	1062232653
 1013 00b0 70000000 		.word	.LC23
 1014 00b4 01       		.byte	1
 1015 00b5 000000   		.space	3
 1016 00b8 00000000 		.word	0
 1017 00bc 0000F03F 		.word	1072693248
 1018 00c0 74000000 		.word	.LC24
 1019 00c4 01       		.byte	1
 1020 00c5 000000   		.space	3
 1021 00c8 00000000 		.word	0
 1022 00cc 00408F40 		.word	1083129856
 1023 00d0 78000000 		.word	.LC25
 1024 00d4 03       		.byte	3
 1025 00d5 000000   		.space	3
 1026 00d8 00000000 		.word	0
 1027 00dc 0000F03F 		.word	1072693248
 1028 00e0 7C000000 		.word	.LC26
 1029 00e4 03       		.byte	3
 1030 00e5 000000   		.space	3
 1031 00e8 00000000 		.word	0
 1032 00ec 00408F40 		.word	1083129856
 1033 00f0 84000000 		.word	.LC27
 1034 00f4 03       		.byte	3
 1035 00f5 000000   		.space	3
 1036 00f8 00000000 		.word	0
 1037 00fc 80842E41 		.word	1093567616
 1038 0100 8C000000 		.word	.LC28
 1039 0104 18       		.byte	24
 1040 0105 000000   		.space	3
 1041 0108 8DEDB5A0 		.word	2696277389
 1042 010c F7C6B03E 		.word	1051772663
 1043 0110 90000000 		.word	.LC29
 1044 0114 18       		.byte	24
 1045 0115 000000   		.space	3
 1046 0118 FCA9F1D2 		.word	3539053052
 1047 011c 4D62503F 		.word	1062232653
 1048 0120 94000000 		.word	.LC30
 1049 0124 18       		.byte	24
 1050 0125 000000   		.space	3
 1051 0128 00000000 		.word	0
 1052 012c 0000F03F 		.word	1072693248
 1053 0130 98000000 		.word	.LC31
 1054 0134 04       		.byte	4
 1055 0135 000000   		.space	3
 1056 0138 00000000 		.word	0
 1057 013c 0000F03F 		.word	1072693248
 1058 0140 9C000000 		.word	.LC32
 1059 0144 04       		.byte	4
 1060 0145 000000   		.space	3
 1061 0148 00000000 		.word	0
ARM GAS  /tmp/ccqZTgoL.s 			page 30


 1062 014c 00408F40 		.word	1083129856
 1063 0150 A0000000 		.word	.LC33
 1064 0154 04       		.byte	4
 1065 0155 000000   		.space	3
 1066 0158 00000000 		.word	0
 1067 015c 80842E41 		.word	1093567616
 1068 0160 A4000000 		.word	.LC34
 1069 0164 04       		.byte	4
 1070 0165 000000   		.space	3
 1071 0168 00000000 		.word	0
 1072 016c 65CDCD41 		.word	1104006501
 1073 0170 A8000000 		.word	.LC35
 1074 0174 25       		.byte	37
 1075 0175 000000   		.space	3
 1076 0178 00000000 		.word	0
 1077 017c 0000F03F 		.word	1072693248
 1078 0180 AC000000 		.word	.LC36
 1079 0184 26       		.byte	38
 1080 0185 000000   		.space	3
 1081 0188 00000000 		.word	0
 1082 018c 0000F03F 		.word	1072693248
 1083 0190 B0000000 		.word	.LC37
 1084 0194 26       		.byte	38
 1085 0195 000000   		.space	3
 1086 0198 00000000 		.word	0
 1087 019c 0000F03F 		.word	1072693248
 1088 01a0 00000000 		.word	0
 1089 01a4 00       		.byte	0
 1090 01a5 000000   		.space	3
 1091 01a8 00000000 		.word	0
 1092 01ac 00000000 		.word	0
 1093              		.text
 1094              	.Letext0:
 1095              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stddef.h"
 1096              		.file 3 "/usr/include/newlib/sys/_types.h"
 1097              		.file 4 "/usr/include/newlib/sys/reent.h"
 1098              		.file 5 "/usr/include/newlib/sys/lock.h"
 1099              		.file 6 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 1100              		.file 7 "libscpi/inc/scpi/types.h"
 1101              		.file 8 "libscpi/inc/scpi/parser.h"
 1102              		.file 9 "libscpi/inc/scpi/units.h"
 1103              		.file 10 "/usr/include/newlib/string.h"
 1104              		.file 11 "libscpi/inc/scpi/utils.h"
 1105              		.file 12 "libscpi/inc/scpi/error.h"
 1106              		.file 13 "libscpi/src/lexer_private.h"
 1107              		.file 14 "libscpi/src/utils_private.h"
ARM GAS  /tmp/ccqZTgoL.s 			page 31


DEFINED SYMBOLS
                            *ABS*:0000000000000000 units.c
     /tmp/ccqZTgoL.s:17     .text.translateUnitInverse:0000000000000000 $t
     /tmp/ccqZTgoL.s:24     .text.translateUnitInverse:0000000000000000 translateUnitInverse
     /tmp/ccqZTgoL.s:100    .text.translateUnitInverse:0000000000000038 $d
     /tmp/ccqZTgoL.s:105    .text.translateUnit:0000000000000000 $t
     /tmp/ccqZTgoL.s:111    .text.translateUnit:0000000000000000 translateUnit
     /tmp/ccqZTgoL.s:202    .text.transformNumber:0000000000000000 $t
     /tmp/ccqZTgoL.s:208    .text.transformNumber:0000000000000000 transformNumber
     /tmp/ccqZTgoL.s:318    .text.SCPI_ParamNumber:0000000000000000 $t
     /tmp/ccqZTgoL.s:325    .text.SCPI_ParamNumber:0000000000000000 SCPI_ParamNumber
     /tmp/ccqZTgoL.s:465    .rodata.SCPI_ParamNumber:0000000000000000 $d
     /tmp/ccqZTgoL.s:605    .text.SCPI_ParamNumber:000000000000011c $d
     /tmp/ccqZTgoL.s:611    .rodata.SCPI_NumberToStr.str1.4:0000000000000000 $d
     /tmp/ccqZTgoL.s:615    .text.SCPI_NumberToStr:0000000000000000 $t
     /tmp/ccqZTgoL.s:622    .text.SCPI_NumberToStr:0000000000000000 SCPI_NumberToStr
     /tmp/ccqZTgoL.s:816    .text.SCPI_NumberToStr:00000000000000b0 $d
     /tmp/ccqZTgoL.s:932    .rodata.scpi_special_numbers_def:0000000000000000 scpi_special_numbers_def
     /tmp/ccqZTgoL.s:822    .rodata.str1.4:0000000000000000 $d
     /tmp/ccqZTgoL.s:957    .rodata.scpi_units_def:0000000000000000 scpi_units_def
     /tmp/ccqZTgoL.s:929    .rodata.scpi_special_numbers_def:0000000000000000 $d
     /tmp/ccqZTgoL.s:954    .rodata.scpi_units_def:0000000000000000 $d

UNDEFINED SYMBOLS
__aeabi_dcmpeq
strlen
compareStr
__aeabi_dmul
skipWhitespace
SCPI_ErrorPush
SCPI_Parameter
SCPI_ParamToDouble
scpiLex_DecimalNumericProgramData
scpiLex_WhiteSpace
scpiLex_SuffixProgramData
scpiLex_CharacterProgramData
SCPI_ParamToChoice
SCPI_ChoiceToName
strncpy
strnlen
SCPI_DoubleToStr
strncat
