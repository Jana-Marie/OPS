ARM GAS  /tmp/cc1mHy4T.s 			page 1


   1              		.cpu cortex-m0
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 0
  10              		.eabi_attribute 18, 4
  11              		.file	"scpi-def.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.global	__aeabi_f2d
  16              		.section	.text.OPS_MeasureTemperatureRef,"ax",%progbits
  17              		.align	1
  18              		.arch armv6s-m
  19              		.syntax unified
  20              		.code	16
  21              		.thumb_func
  22              		.fpu softvfp
  24              	OPS_MeasureTemperatureRef:
  25              	.LVL0:
  26              	.LFB50:
  27              		.file 1 "Core/Src/scpi-def.c"
   1:Core/Src/scpi-def.c **** /*-
   2:Core/Src/scpi-def.c ****  * BSD 2-Clause License
   3:Core/Src/scpi-def.c ****  *
   4:Core/Src/scpi-def.c ****  * Copyright (c) 2012-2018, Jan Breuer
   5:Core/Src/scpi-def.c ****  * All rights reserved.
   6:Core/Src/scpi-def.c ****  *
   7:Core/Src/scpi-def.c ****  * Redistribution and use in source and binary forms, with or without
   8:Core/Src/scpi-def.c ****  * modification, are permitted provided that the following conditions are met:
   9:Core/Src/scpi-def.c ****  *
  10:Core/Src/scpi-def.c ****  * * Redistributions of source code must retain the above copyright notice, this
  11:Core/Src/scpi-def.c ****  *   list of conditions and the following disclaimer.
  12:Core/Src/scpi-def.c ****  *
  13:Core/Src/scpi-def.c ****  * * Redistributions in binary form must reproduce the above copyright notice,
  14:Core/Src/scpi-def.c ****  *   this list of conditions and the following disclaimer in the documentation
  15:Core/Src/scpi-def.c ****  *   and/or other materials provided with the distribution.
  16:Core/Src/scpi-def.c ****  *
  17:Core/Src/scpi-def.c ****  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  18:Core/Src/scpi-def.c ****  * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  19:Core/Src/scpi-def.c ****  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  20:Core/Src/scpi-def.c ****  * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
  21:Core/Src/scpi-def.c ****  * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  22:Core/Src/scpi-def.c ****  * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
  23:Core/Src/scpi-def.c ****  * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
  24:Core/Src/scpi-def.c ****  * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
  25:Core/Src/scpi-def.c ****  * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  26:Core/Src/scpi-def.c ****  * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  27:Core/Src/scpi-def.c ****  */
  28:Core/Src/scpi-def.c **** 
  29:Core/Src/scpi-def.c **** /**
  30:Core/Src/scpi-def.c ****  * @file   scpi-def.c
  31:Core/Src/scpi-def.c ****  * @date   Thu Nov 15 10:58:45 UTC 2012
ARM GAS  /tmp/cc1mHy4T.s 			page 2


  32:Core/Src/scpi-def.c ****  *
  33:Core/Src/scpi-def.c ****  * @brief  SCPI parser test
  34:Core/Src/scpi-def.c ****  *
  35:Core/Src/scpi-def.c ****  *
  36:Core/Src/scpi-def.c ****  */
  37:Core/Src/scpi-def.c **** 
  38:Core/Src/scpi-def.c **** #include <stdio.h>
  39:Core/Src/scpi-def.c **** #include <stdlib.h>
  40:Core/Src/scpi-def.c **** #include <string.h>
  41:Core/Src/scpi-def.c **** #include "scpi/scpi.h"
  42:Core/Src/scpi-def.c **** #include "scpi-def.h"
  43:Core/Src/scpi-def.c **** #include "main.h"
  44:Core/Src/scpi-def.c **** #include "MP8862.h"
  45:Core/Src/scpi-def.c **** 
  46:Core/Src/scpi-def.c **** extern struct ops ops;
  47:Core/Src/scpi-def.c **** extern struct MP8862_t MP8862;
  48:Core/Src/scpi-def.c **** 
  49:Core/Src/scpi-def.c **** /* EN */
  50:Core/Src/scpi-def.c **** static scpi_result_t OPS_ConfigureOutputEn(scpi_t * context) {
  51:Core/Src/scpi-def.c ****     double param1;
  52:Core/Src/scpi-def.c ****     char _err[150] = {0};
  53:Core/Src/scpi-def.c **** 
  54:Core/Src/scpi-def.c ****     /* read first parameter if present */
  55:Core/Src/scpi-def.c ****     if (!SCPI_ParamDouble(context, &param1, TRUE)) {
  56:Core/Src/scpi-def.c ****         return SCPI_RES_ERR;
  57:Core/Src/scpi-def.c ****     }
  58:Core/Src/scpi-def.c **** 
  59:Core/Src/scpi-def.c ****     sprintf(_err, "conf:output:en\tP1=%lf", param1);
  60:Core/Src/scpi-def.c ****     CDC_Transmit_FS(_err, 150);
  61:Core/Src/scpi-def.c **** 
  62:Core/Src/scpi-def.c ****     return SCPI_RES_OK;
  63:Core/Src/scpi-def.c **** }
  64:Core/Src/scpi-def.c **** 
  65:Core/Src/scpi-def.c **** static scpi_result_t OPS_StatusOutputEn(scpi_t * context) {
  66:Core/Src/scpi-def.c ****     SCPI_ResultDouble(context, ops.en);
  67:Core/Src/scpi-def.c ****     return SCPI_RES_OK;
  68:Core/Src/scpi-def.c **** }
  69:Core/Src/scpi-def.c **** 
  70:Core/Src/scpi-def.c **** /* VOUT */
  71:Core/Src/scpi-def.c **** static scpi_result_t OPS_ConfigureVoltageDc(scpi_t * context) {
  72:Core/Src/scpi-def.c ****     double param1;
  73:Core/Src/scpi-def.c ****     char _err[150] = {0};
  74:Core/Src/scpi-def.c **** 
  75:Core/Src/scpi-def.c ****     /* read first parameter if present */
  76:Core/Src/scpi-def.c ****     if (!SCPI_ParamDouble(context, &param1, TRUE)) {
  77:Core/Src/scpi-def.c ****         return SCPI_RES_ERR;
  78:Core/Src/scpi-def.c ****     }
  79:Core/Src/scpi-def.c **** 
  80:Core/Src/scpi-def.c ****     //sprintf(_err, "conf:volt:dc\tP1=%lf", param1);
  81:Core/Src/scpi-def.c ****     //CDC_Transmit_FS(_err, 150);
  82:Core/Src/scpi-def.c ****     MP8862_setVoltageSetpoint_mV(&MP8862, (uint16_t)(param1*1000));
  83:Core/Src/scpi-def.c **** 
  84:Core/Src/scpi-def.c ****     return SCPI_RES_OK;
  85:Core/Src/scpi-def.c **** }
  86:Core/Src/scpi-def.c **** 
  87:Core/Src/scpi-def.c **** static scpi_result_t OPS_MeasureVoltageDc(scpi_t * context) {
  88:Core/Src/scpi-def.c ****     SCPI_ResultDouble(context, ops.vout);
ARM GAS  /tmp/cc1mHy4T.s 			page 3


  89:Core/Src/scpi-def.c ****     return SCPI_RES_OK;
  90:Core/Src/scpi-def.c **** }
  91:Core/Src/scpi-def.c **** 
  92:Core/Src/scpi-def.c **** /* IOUT */
  93:Core/Src/scpi-def.c **** static scpi_result_t OPS_ConfigureCurrentDc(scpi_t * context) {
  94:Core/Src/scpi-def.c ****     double param1;
  95:Core/Src/scpi-def.c ****     char _err[150] = {0};
  96:Core/Src/scpi-def.c **** 
  97:Core/Src/scpi-def.c ****     /* read first parameter if present */
  98:Core/Src/scpi-def.c ****     if (!SCPI_ParamDouble(context, &param1, TRUE)) {
  99:Core/Src/scpi-def.c ****         return SCPI_RES_ERR;
 100:Core/Src/scpi-def.c ****     }
 101:Core/Src/scpi-def.c **** 
 102:Core/Src/scpi-def.c ****     sprintf(_err, "conf:curr:dc\tP1=%lf", param1);
 103:Core/Src/scpi-def.c ****     CDC_Transmit_FS(_err, 150);
 104:Core/Src/scpi-def.c **** 
 105:Core/Src/scpi-def.c ****     return SCPI_RES_OK;
 106:Core/Src/scpi-def.c **** }
 107:Core/Src/scpi-def.c **** 
 108:Core/Src/scpi-def.c **** static scpi_result_t OPS_MeasureCurrentDc(scpi_t * context) {
 109:Core/Src/scpi-def.c ****     SCPI_ResultDouble(context, ops.iout);
 110:Core/Src/scpi-def.c ****     return SCPI_RES_OK;
 111:Core/Src/scpi-def.c **** }
 112:Core/Src/scpi-def.c **** 
 113:Core/Src/scpi-def.c **** /* TEMP*/
 114:Core/Src/scpi-def.c **** static scpi_result_t OPS_MeasureTemperatureTc(scpi_t * context) {
 115:Core/Src/scpi-def.c ****     SCPI_ResultDouble(context, ops.tc);
 116:Core/Src/scpi-def.c ****     return SCPI_RES_OK;
 117:Core/Src/scpi-def.c **** }
 118:Core/Src/scpi-def.c **** 
 119:Core/Src/scpi-def.c **** static scpi_result_t OPS_MeasureTemperatureRef(scpi_t * context) {
  28              		.loc 1 119 66 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		.loc 1 119 66 is_stmt 0 view .LVU1
  33 0000 10B5     		push	{r4, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 4, -8
  37              		.cfi_offset 14, -4
  38 0002 0400     		movs	r4, r0
 120:Core/Src/scpi-def.c ****     SCPI_ResultDouble(context, ops.tref);
  39              		.loc 1 120 5 is_stmt 1 view .LVU2
  40              		.loc 1 120 35 is_stmt 0 view .LVU3
  41 0004 054B     		ldr	r3, .L2
  42 0006 9869     		ldr	r0, [r3, #24]
  43              	.LVL1:
  44              		.loc 1 120 5 view .LVU4
  45 0008 FFF7FEFF 		bl	__aeabi_f2d
  46              	.LVL2:
  47 000c 0200     		movs	r2, r0
  48 000e 0B00     		movs	r3, r1
  49 0010 2000     		movs	r0, r4
  50 0012 FFF7FEFF 		bl	SCPI_ResultDouble
  51              	.LVL3:
 121:Core/Src/scpi-def.c ****     return SCPI_RES_OK;
ARM GAS  /tmp/cc1mHy4T.s 			page 4


  52              		.loc 1 121 5 is_stmt 1 view .LVU5
 122:Core/Src/scpi-def.c **** }
  53              		.loc 1 122 1 is_stmt 0 view .LVU6
  54 0016 0120     		movs	r0, #1
  55              		@ sp needed
  56              	.LVL4:
  57              		.loc 1 122 1 view .LVU7
  58 0018 10BD     		pop	{r4, pc}
  59              	.L3:
  60 001a C046     		.align	2
  61              	.L2:
  62 001c 00000000 		.word	ops
  63              		.cfi_endproc
  64              	.LFE50:
  66              		.section	.text.OPS_MeasureTemperatureTc,"ax",%progbits
  67              		.align	1
  68              		.syntax unified
  69              		.code	16
  70              		.thumb_func
  71              		.fpu softvfp
  73              	OPS_MeasureTemperatureTc:
  74              	.LVL5:
  75              	.LFB49:
 114:Core/Src/scpi-def.c ****     SCPI_ResultDouble(context, ops.tc);
  76              		.loc 1 114 65 is_stmt 1 view -0
  77              		.cfi_startproc
  78              		@ args = 0, pretend = 0, frame = 0
  79              		@ frame_needed = 0, uses_anonymous_args = 0
 114:Core/Src/scpi-def.c ****     SCPI_ResultDouble(context, ops.tc);
  80              		.loc 1 114 65 is_stmt 0 view .LVU9
  81 0000 10B5     		push	{r4, lr}
  82              	.LCFI1:
  83              		.cfi_def_cfa_offset 8
  84              		.cfi_offset 4, -8
  85              		.cfi_offset 14, -4
  86 0002 0400     		movs	r4, r0
 115:Core/Src/scpi-def.c ****     return SCPI_RES_OK;
  87              		.loc 1 115 5 is_stmt 1 view .LVU10
 115:Core/Src/scpi-def.c ****     return SCPI_RES_OK;
  88              		.loc 1 115 35 is_stmt 0 view .LVU11
  89 0004 054B     		ldr	r3, .L5
  90 0006 5869     		ldr	r0, [r3, #20]
  91              	.LVL6:
 115:Core/Src/scpi-def.c ****     return SCPI_RES_OK;
  92              		.loc 1 115 5 view .LVU12
  93 0008 FFF7FEFF 		bl	__aeabi_f2d
  94              	.LVL7:
  95 000c 0200     		movs	r2, r0
  96 000e 0B00     		movs	r3, r1
  97 0010 2000     		movs	r0, r4
  98 0012 FFF7FEFF 		bl	SCPI_ResultDouble
  99              	.LVL8:
 116:Core/Src/scpi-def.c **** }
 100              		.loc 1 116 5 is_stmt 1 view .LVU13
 117:Core/Src/scpi-def.c **** 
 101              		.loc 1 117 1 is_stmt 0 view .LVU14
 102 0016 0120     		movs	r0, #1
ARM GAS  /tmp/cc1mHy4T.s 			page 5


 103              		@ sp needed
 104              	.LVL9:
 117:Core/Src/scpi-def.c **** 
 105              		.loc 1 117 1 view .LVU15
 106 0018 10BD     		pop	{r4, pc}
 107              	.L6:
 108 001a C046     		.align	2
 109              	.L5:
 110 001c 00000000 		.word	ops
 111              		.cfi_endproc
 112              	.LFE49:
 114              		.section	.text.OPS_MeasureCurrentDc,"ax",%progbits
 115              		.align	1
 116              		.syntax unified
 117              		.code	16
 118              		.thumb_func
 119              		.fpu softvfp
 121              	OPS_MeasureCurrentDc:
 122              	.LVL10:
 123              	.LFB48:
 108:Core/Src/scpi-def.c ****     SCPI_ResultDouble(context, ops.iout);
 124              		.loc 1 108 61 is_stmt 1 view -0
 125              		.cfi_startproc
 126              		@ args = 0, pretend = 0, frame = 0
 127              		@ frame_needed = 0, uses_anonymous_args = 0
 108:Core/Src/scpi-def.c ****     SCPI_ResultDouble(context, ops.iout);
 128              		.loc 1 108 61 is_stmt 0 view .LVU17
 129 0000 10B5     		push	{r4, lr}
 130              	.LCFI2:
 131              		.cfi_def_cfa_offset 8
 132              		.cfi_offset 4, -8
 133              		.cfi_offset 14, -4
 134 0002 0400     		movs	r4, r0
 109:Core/Src/scpi-def.c ****     return SCPI_RES_OK;
 135              		.loc 1 109 5 is_stmt 1 view .LVU18
 109:Core/Src/scpi-def.c ****     return SCPI_RES_OK;
 136              		.loc 1 109 35 is_stmt 0 view .LVU19
 137 0004 054B     		ldr	r3, .L8
 138 0006 9868     		ldr	r0, [r3, #8]
 139              	.LVL11:
 109:Core/Src/scpi-def.c ****     return SCPI_RES_OK;
 140              		.loc 1 109 5 view .LVU20
 141 0008 FFF7FEFF 		bl	__aeabi_f2d
 142              	.LVL12:
 143 000c 0200     		movs	r2, r0
 144 000e 0B00     		movs	r3, r1
 145 0010 2000     		movs	r0, r4
 146 0012 FFF7FEFF 		bl	SCPI_ResultDouble
 147              	.LVL13:
 110:Core/Src/scpi-def.c **** }
 148              		.loc 1 110 5 is_stmt 1 view .LVU21
 111:Core/Src/scpi-def.c **** 
 149              		.loc 1 111 1 is_stmt 0 view .LVU22
 150 0016 0120     		movs	r0, #1
 151              		@ sp needed
 152              	.LVL14:
 111:Core/Src/scpi-def.c **** 
ARM GAS  /tmp/cc1mHy4T.s 			page 6


 153              		.loc 1 111 1 view .LVU23
 154 0018 10BD     		pop	{r4, pc}
 155              	.L9:
 156 001a C046     		.align	2
 157              	.L8:
 158 001c 00000000 		.word	ops
 159              		.cfi_endproc
 160              	.LFE48:
 162              		.section	.text.OPS_MeasureVoltageDc,"ax",%progbits
 163              		.align	1
 164              		.syntax unified
 165              		.code	16
 166              		.thumb_func
 167              		.fpu softvfp
 169              	OPS_MeasureVoltageDc:
 170              	.LVL15:
 171              	.LFB46:
  87:Core/Src/scpi-def.c ****     SCPI_ResultDouble(context, ops.vout);
 172              		.loc 1 87 61 is_stmt 1 view -0
 173              		.cfi_startproc
 174              		@ args = 0, pretend = 0, frame = 0
 175              		@ frame_needed = 0, uses_anonymous_args = 0
  87:Core/Src/scpi-def.c ****     SCPI_ResultDouble(context, ops.vout);
 176              		.loc 1 87 61 is_stmt 0 view .LVU25
 177 0000 10B5     		push	{r4, lr}
 178              	.LCFI3:
 179              		.cfi_def_cfa_offset 8
 180              		.cfi_offset 4, -8
 181              		.cfi_offset 14, -4
 182 0002 0400     		movs	r4, r0
  88:Core/Src/scpi-def.c ****     return SCPI_RES_OK;
 183              		.loc 1 88 5 is_stmt 1 view .LVU26
  88:Core/Src/scpi-def.c ****     return SCPI_RES_OK;
 184              		.loc 1 88 35 is_stmt 0 view .LVU27
 185 0004 054B     		ldr	r3, .L11
 186 0006 5868     		ldr	r0, [r3, #4]
 187              	.LVL16:
  88:Core/Src/scpi-def.c ****     return SCPI_RES_OK;
 188              		.loc 1 88 5 view .LVU28
 189 0008 FFF7FEFF 		bl	__aeabi_f2d
 190              	.LVL17:
 191 000c 0200     		movs	r2, r0
 192 000e 0B00     		movs	r3, r1
 193 0010 2000     		movs	r0, r4
 194 0012 FFF7FEFF 		bl	SCPI_ResultDouble
 195              	.LVL18:
  89:Core/Src/scpi-def.c **** }
 196              		.loc 1 89 5 is_stmt 1 view .LVU29
  90:Core/Src/scpi-def.c **** 
 197              		.loc 1 90 1 is_stmt 0 view .LVU30
 198 0016 0120     		movs	r0, #1
 199              		@ sp needed
 200              	.LVL19:
  90:Core/Src/scpi-def.c **** 
 201              		.loc 1 90 1 view .LVU31
 202 0018 10BD     		pop	{r4, pc}
 203              	.L12:
ARM GAS  /tmp/cc1mHy4T.s 			page 7


 204 001a C046     		.align	2
 205              	.L11:
 206 001c 00000000 		.word	ops
 207              		.cfi_endproc
 208              	.LFE46:
 210              		.global	__aeabi_ui2d
 211              		.section	.text.OPS_StatusOutputEn,"ax",%progbits
 212              		.align	1
 213              		.syntax unified
 214              		.code	16
 215              		.thumb_func
 216              		.fpu softvfp
 218              	OPS_StatusOutputEn:
 219              	.LVL20:
 220              	.LFB44:
  65:Core/Src/scpi-def.c ****     SCPI_ResultDouble(context, ops.en);
 221              		.loc 1 65 59 is_stmt 1 view -0
 222              		.cfi_startproc
 223              		@ args = 0, pretend = 0, frame = 0
 224              		@ frame_needed = 0, uses_anonymous_args = 0
  65:Core/Src/scpi-def.c ****     SCPI_ResultDouble(context, ops.en);
 225              		.loc 1 65 59 is_stmt 0 view .LVU33
 226 0000 10B5     		push	{r4, lr}
 227              	.LCFI4:
 228              		.cfi_def_cfa_offset 8
 229              		.cfi_offset 4, -8
 230              		.cfi_offset 14, -4
 231 0002 0400     		movs	r4, r0
  66:Core/Src/scpi-def.c ****     return SCPI_RES_OK;
 232              		.loc 1 66 5 is_stmt 1 view .LVU34
  66:Core/Src/scpi-def.c ****     return SCPI_RES_OK;
 233              		.loc 1 66 35 is_stmt 0 view .LVU35
 234 0004 054B     		ldr	r3, .L14
 235 0006 187F     		ldrb	r0, [r3, #28]
 236              	.LVL21:
  66:Core/Src/scpi-def.c ****     return SCPI_RES_OK;
 237              		.loc 1 66 5 view .LVU36
 238 0008 FFF7FEFF 		bl	__aeabi_ui2d
 239              	.LVL22:
 240 000c 0200     		movs	r2, r0
 241 000e 0B00     		movs	r3, r1
 242 0010 2000     		movs	r0, r4
 243 0012 FFF7FEFF 		bl	SCPI_ResultDouble
 244              	.LVL23:
  67:Core/Src/scpi-def.c **** }
 245              		.loc 1 67 5 is_stmt 1 view .LVU37
  68:Core/Src/scpi-def.c **** 
 246              		.loc 1 68 1 is_stmt 0 view .LVU38
 247 0016 0120     		movs	r0, #1
 248              		@ sp needed
 249              	.LVL24:
  68:Core/Src/scpi-def.c **** 
 250              		.loc 1 68 1 view .LVU39
 251 0018 10BD     		pop	{r4, pc}
 252              	.L15:
 253 001a C046     		.align	2
 254              	.L14:
ARM GAS  /tmp/cc1mHy4T.s 			page 8


 255 001c 00000000 		.word	ops
 256              		.cfi_endproc
 257              	.LFE44:
 259              		.section	.rodata.OPS_ConfigureCurrentDc.str1.4,"aMS",%progbits,1
 260              		.align	2
 261              	.LC5:
 262 0000 636F6E66 		.ascii	"conf:curr:dc\011P1=%lf\000"
 262      3A637572 
 262      723A6463 
 262      0950313D 
 262      256C6600 
 263              		.section	.text.OPS_ConfigureCurrentDc,"ax",%progbits
 264              		.align	1
 265              		.syntax unified
 266              		.code	16
 267              		.thumb_func
 268              		.fpu softvfp
 270              	OPS_ConfigureCurrentDc:
 271              	.LVL25:
 272              	.LFB47:
  93:Core/Src/scpi-def.c ****     double param1;
 273              		.loc 1 93 63 is_stmt 1 view -0
 274              		.cfi_startproc
 275              		@ args = 0, pretend = 0, frame = 160
 276              		@ frame_needed = 0, uses_anonymous_args = 0
  93:Core/Src/scpi-def.c ****     double param1;
 277              		.loc 1 93 63 is_stmt 0 view .LVU41
 278 0000 10B5     		push	{r4, lr}
 279              	.LCFI5:
 280              		.cfi_def_cfa_offset 8
 281              		.cfi_offset 4, -8
 282              		.cfi_offset 14, -4
 283 0002 A8B0     		sub	sp, sp, #160
 284              	.LCFI6:
 285              		.cfi_def_cfa_offset 168
 286 0004 0400     		movs	r4, r0
  94:Core/Src/scpi-def.c ****     char _err[150] = {0};
 287              		.loc 1 94 5 is_stmt 1 view .LVU42
  95:Core/Src/scpi-def.c **** 
 288              		.loc 1 95 5 view .LVU43
  95:Core/Src/scpi-def.c **** 
 289              		.loc 1 95 10 is_stmt 0 view .LVU44
 290 0006 0023     		movs	r3, #0
 291 0008 0093     		str	r3, [sp]
 292 000a 9222     		movs	r2, #146
 293 000c 0021     		movs	r1, #0
 294 000e 01A8     		add	r0, sp, #4
 295              	.LVL26:
  95:Core/Src/scpi-def.c **** 
 296              		.loc 1 95 10 view .LVU45
 297 0010 FFF7FEFF 		bl	memset
 298              	.LVL27:
  98:Core/Src/scpi-def.c ****         return SCPI_RES_ERR;
 299              		.loc 1 98 5 is_stmt 1 view .LVU46
  98:Core/Src/scpi-def.c ****         return SCPI_RES_ERR;
 300              		.loc 1 98 10 is_stmt 0 view .LVU47
 301 0014 0122     		movs	r2, #1
ARM GAS  /tmp/cc1mHy4T.s 			page 9


 302 0016 26A9     		add	r1, sp, #152
 303 0018 2000     		movs	r0, r4
 304 001a FFF7FEFF 		bl	SCPI_ParamDouble
 305              	.LVL28:
  98:Core/Src/scpi-def.c ****         return SCPI_RES_ERR;
 306              		.loc 1 98 8 view .LVU48
 307 001e 0028     		cmp	r0, #0
 308 0020 03D1     		bne	.L19
  99:Core/Src/scpi-def.c ****     }
 309              		.loc 1 99 16 view .LVU49
 310 0022 0120     		movs	r0, #1
 311 0024 4042     		rsbs	r0, r0, #0
 312              	.L17:
 106:Core/Src/scpi-def.c **** 
 313              		.loc 1 106 1 view .LVU50
 314 0026 28B0     		add	sp, sp, #160
 315              		@ sp needed
 316              	.LVL29:
 106:Core/Src/scpi-def.c **** 
 317              		.loc 1 106 1 view .LVU51
 318 0028 10BD     		pop	{r4, pc}
 319              	.LVL30:
 320              	.L19:
 102:Core/Src/scpi-def.c ****     CDC_Transmit_FS(_err, 150);
 321              		.loc 1 102 5 is_stmt 1 view .LVU52
 322 002a 269A     		ldr	r2, [sp, #152]
 323 002c 279B     		ldr	r3, [sp, #156]
 324 002e 0549     		ldr	r1, .L20
 325 0030 6846     		mov	r0, sp
 326 0032 FFF7FEFF 		bl	sprintf
 327              	.LVL31:
 103:Core/Src/scpi-def.c **** 
 328              		.loc 1 103 5 view .LVU53
 329 0036 9621     		movs	r1, #150
 330 0038 6846     		mov	r0, sp
 331 003a FFF7FEFF 		bl	CDC_Transmit_FS
 332              	.LVL32:
 105:Core/Src/scpi-def.c **** }
 333              		.loc 1 105 5 view .LVU54
 105:Core/Src/scpi-def.c **** }
 334              		.loc 1 105 12 is_stmt 0 view .LVU55
 335 003e 0120     		movs	r0, #1
 336 0040 F1E7     		b	.L17
 337              	.L21:
 338 0042 C046     		.align	2
 339              	.L20:
 340 0044 00000000 		.word	.LC5
 341              		.cfi_endproc
 342              	.LFE47:
 344              		.section	.rodata.OPS_ConfigureOutputEn.str1.4,"aMS",%progbits,1
 345              		.align	2
 346              	.LC7:
 347 0000 636F6E66 		.ascii	"conf:output:en\011P1=%lf\000"
 347      3A6F7574 
 347      7075743A 
 347      656E0950 
 347      313D256C 
ARM GAS  /tmp/cc1mHy4T.s 			page 10


 348              		.section	.text.OPS_ConfigureOutputEn,"ax",%progbits
 349              		.align	1
 350              		.syntax unified
 351              		.code	16
 352              		.thumb_func
 353              		.fpu softvfp
 355              	OPS_ConfigureOutputEn:
 356              	.LVL33:
 357              	.LFB43:
  50:Core/Src/scpi-def.c ****     double param1;
 358              		.loc 1 50 62 is_stmt 1 view -0
 359              		.cfi_startproc
 360              		@ args = 0, pretend = 0, frame = 160
 361              		@ frame_needed = 0, uses_anonymous_args = 0
  50:Core/Src/scpi-def.c ****     double param1;
 362              		.loc 1 50 62 is_stmt 0 view .LVU57
 363 0000 10B5     		push	{r4, lr}
 364              	.LCFI7:
 365              		.cfi_def_cfa_offset 8
 366              		.cfi_offset 4, -8
 367              		.cfi_offset 14, -4
 368 0002 A8B0     		sub	sp, sp, #160
 369              	.LCFI8:
 370              		.cfi_def_cfa_offset 168
 371 0004 0400     		movs	r4, r0
  51:Core/Src/scpi-def.c ****     char _err[150] = {0};
 372              		.loc 1 51 5 is_stmt 1 view .LVU58
  52:Core/Src/scpi-def.c **** 
 373              		.loc 1 52 5 view .LVU59
  52:Core/Src/scpi-def.c **** 
 374              		.loc 1 52 10 is_stmt 0 view .LVU60
 375 0006 0023     		movs	r3, #0
 376 0008 0093     		str	r3, [sp]
 377 000a 9222     		movs	r2, #146
 378 000c 0021     		movs	r1, #0
 379 000e 01A8     		add	r0, sp, #4
 380              	.LVL34:
  52:Core/Src/scpi-def.c **** 
 381              		.loc 1 52 10 view .LVU61
 382 0010 FFF7FEFF 		bl	memset
 383              	.LVL35:
  55:Core/Src/scpi-def.c ****         return SCPI_RES_ERR;
 384              		.loc 1 55 5 is_stmt 1 view .LVU62
  55:Core/Src/scpi-def.c ****         return SCPI_RES_ERR;
 385              		.loc 1 55 10 is_stmt 0 view .LVU63
 386 0014 0122     		movs	r2, #1
 387 0016 26A9     		add	r1, sp, #152
 388 0018 2000     		movs	r0, r4
 389 001a FFF7FEFF 		bl	SCPI_ParamDouble
 390              	.LVL36:
  55:Core/Src/scpi-def.c ****         return SCPI_RES_ERR;
 391              		.loc 1 55 8 view .LVU64
 392 001e 0028     		cmp	r0, #0
 393 0020 03D1     		bne	.L25
  56:Core/Src/scpi-def.c ****     }
 394              		.loc 1 56 16 view .LVU65
 395 0022 0120     		movs	r0, #1
ARM GAS  /tmp/cc1mHy4T.s 			page 11


 396 0024 4042     		rsbs	r0, r0, #0
 397              	.L23:
  63:Core/Src/scpi-def.c **** 
 398              		.loc 1 63 1 view .LVU66
 399 0026 28B0     		add	sp, sp, #160
 400              		@ sp needed
 401              	.LVL37:
  63:Core/Src/scpi-def.c **** 
 402              		.loc 1 63 1 view .LVU67
 403 0028 10BD     		pop	{r4, pc}
 404              	.LVL38:
 405              	.L25:
  59:Core/Src/scpi-def.c ****     CDC_Transmit_FS(_err, 150);
 406              		.loc 1 59 5 is_stmt 1 view .LVU68
 407 002a 269A     		ldr	r2, [sp, #152]
 408 002c 279B     		ldr	r3, [sp, #156]
 409 002e 0549     		ldr	r1, .L26
 410 0030 6846     		mov	r0, sp
 411 0032 FFF7FEFF 		bl	sprintf
 412              	.LVL39:
  60:Core/Src/scpi-def.c **** 
 413              		.loc 1 60 5 view .LVU69
 414 0036 9621     		movs	r1, #150
 415 0038 6846     		mov	r0, sp
 416 003a FFF7FEFF 		bl	CDC_Transmit_FS
 417              	.LVL40:
  62:Core/Src/scpi-def.c **** }
 418              		.loc 1 62 5 view .LVU70
  62:Core/Src/scpi-def.c **** }
 419              		.loc 1 62 12 is_stmt 0 view .LVU71
 420 003e 0120     		movs	r0, #1
 421 0040 F1E7     		b	.L23
 422              	.L27:
 423 0042 C046     		.align	2
 424              	.L26:
 425 0044 00000000 		.word	.LC7
 426              		.cfi_endproc
 427              	.LFE43:
 429              		.global	__aeabi_dmul
 430              		.global	__aeabi_d2uiz
 431              		.section	.text.OPS_ConfigureVoltageDc,"ax",%progbits
 432              		.align	1
 433              		.syntax unified
 434              		.code	16
 435              		.thumb_func
 436              		.fpu softvfp
 438              	OPS_ConfigureVoltageDc:
 439              	.LVL41:
 440              	.LFB45:
  71:Core/Src/scpi-def.c ****     double param1;
 441              		.loc 1 71 63 is_stmt 1 view -0
 442              		.cfi_startproc
 443              		@ args = 0, pretend = 0, frame = 8
 444              		@ frame_needed = 0, uses_anonymous_args = 0
  71:Core/Src/scpi-def.c ****     double param1;
 445              		.loc 1 71 63 is_stmt 0 view .LVU73
 446 0000 00B5     		push	{lr}
ARM GAS  /tmp/cc1mHy4T.s 			page 12


 447              	.LCFI9:
 448              		.cfi_def_cfa_offset 4
 449              		.cfi_offset 14, -4
 450 0002 83B0     		sub	sp, sp, #12
 451              	.LCFI10:
 452              		.cfi_def_cfa_offset 16
  72:Core/Src/scpi-def.c ****     char _err[150] = {0};
 453              		.loc 1 72 5 is_stmt 1 view .LVU74
  73:Core/Src/scpi-def.c **** 
 454              		.loc 1 73 5 view .LVU75
  76:Core/Src/scpi-def.c ****         return SCPI_RES_ERR;
 455              		.loc 1 76 5 view .LVU76
  76:Core/Src/scpi-def.c ****         return SCPI_RES_ERR;
 456              		.loc 1 76 10 is_stmt 0 view .LVU77
 457 0004 0122     		movs	r2, #1
 458 0006 6946     		mov	r1, sp
 459 0008 FFF7FEFF 		bl	SCPI_ParamDouble
 460              	.LVL42:
  76:Core/Src/scpi-def.c ****         return SCPI_RES_ERR;
 461              		.loc 1 76 8 view .LVU78
 462 000c 0028     		cmp	r0, #0
 463 000e 03D1     		bne	.L31
  77:Core/Src/scpi-def.c ****     }
 464              		.loc 1 77 16 view .LVU79
 465 0010 0120     		movs	r0, #1
 466 0012 4042     		rsbs	r0, r0, #0
 467              	.L29:
  85:Core/Src/scpi-def.c **** 
 468              		.loc 1 85 1 view .LVU80
 469 0014 03B0     		add	sp, sp, #12
 470              		@ sp needed
 471 0016 00BD     		pop	{pc}
 472              	.L31:
  82:Core/Src/scpi-def.c **** 
 473              		.loc 1 82 5 is_stmt 1 view .LVU81
  82:Core/Src/scpi-def.c **** 
 474              		.loc 1 82 60 is_stmt 0 view .LVU82
 475 0018 0022     		movs	r2, #0
 476 001a 064B     		ldr	r3, .L32
 477 001c 0098     		ldr	r0, [sp]
 478 001e 0199     		ldr	r1, [sp, #4]
 479 0020 FFF7FEFF 		bl	__aeabi_dmul
 480              	.LVL43:
  82:Core/Src/scpi-def.c **** 
 481              		.loc 1 82 5 view .LVU83
 482 0024 FFF7FEFF 		bl	__aeabi_d2uiz
 483              	.LVL44:
 484 0028 81B2     		uxth	r1, r0
 485 002a 0348     		ldr	r0, .L32+4
 486 002c FFF7FEFF 		bl	MP8862_setVoltageSetpoint_mV
 487              	.LVL45:
  84:Core/Src/scpi-def.c **** }
 488              		.loc 1 84 5 is_stmt 1 view .LVU84
  84:Core/Src/scpi-def.c **** }
 489              		.loc 1 84 12 is_stmt 0 view .LVU85
 490 0030 0120     		movs	r0, #1
 491 0032 EFE7     		b	.L29
ARM GAS  /tmp/cc1mHy4T.s 			page 13


 492              	.L33:
 493              		.align	2
 494              	.L32:
 495 0034 00408F40 		.word	1083129856
 496 0038 00000000 		.word	MP8862
 497              		.cfi_endproc
 498              	.LFE45:
 500              		.section	.text.My_CoreTstQ,"ax",%progbits
 501              		.align	1
 502              		.syntax unified
 503              		.code	16
 504              		.thumb_func
 505              		.fpu softvfp
 507              	My_CoreTstQ:
 508              	.LVL46:
 509              	.LFB51:
 123:Core/Src/scpi-def.c **** 
 124:Core/Src/scpi-def.c **** 
 125:Core/Src/scpi-def.c **** //static scpi_result_t EXAMPLE_MeasureVoltageIn(scpi_t * context) {
 126:Core/Src/scpi-def.c **** //    SCPI_ResultDouble(context, output);
 127:Core/Src/scpi-def.c **** //
 128:Core/Src/scpi-def.c **** //    return SCPI_RES_OK;
 129:Core/Src/scpi-def.c **** //}
 130:Core/Src/scpi-def.c **** 
 131:Core/Src/scpi-def.c **** //static scpi_result_t EXAMPLE_MeasureVoltageOut(scpi_t * context) {
 132:Core/Src/scpi-def.c **** //    SCPI_ResultUInt32(context, voltage);
 133:Core/Src/scpi-def.c **** //
 134:Core/Src/scpi-def.c **** //    return SCPI_RES_OK;
 135:Core/Src/scpi-def.c **** //}
 136:Core/Src/scpi-def.c **** 
 137:Core/Src/scpi-def.c **** //static scpi_result_t DMM_MeasureVoltageAcQ(scpi_t * context) {
 138:Core/Src/scpi-def.c **** //    scpi_number_t param1, param2;
 139:Core/Src/scpi-def.c **** //    char bf1[15];
 140:Core/Src/scpi-def.c **** //    char bf2[15];
 141:Core/Src/scpi-def.c **** //    char _err[150] = {0};
 142:Core/Src/scpi-def.c **** //
 143:Core/Src/scpi-def.c **** //    /* read first parameter if present */
 144:Core/Src/scpi-def.c **** //    if (!SCPI_ParamNumber(context, scpi_special_numbers_def, &param1, FALSE)) {
 145:Core/Src/scpi-def.c **** //        /* do something, if parameter not present */
 146:Core/Src/scpi-def.c **** //    }
 147:Core/Src/scpi-def.c **** //
 148:Core/Src/scpi-def.c **** //    /* read second paraeter if present */
 149:Core/Src/scpi-def.c **** //    if (!SCPI_ParamNumber(context, scpi_special_numbers_def, &param2, FALSE)) {
 150:Core/Src/scpi-def.c **** //        /* do something, if parameter not present */
 151:Core/Src/scpi-def.c **** //    }
 152:Core/Src/scpi-def.c **** //
 153:Core/Src/scpi-def.c **** //
 154:Core/Src/scpi-def.c **** //    SCPI_NumberToStr(context, scpi_special_numbers_def, &param1, bf1, 15);
 155:Core/Src/scpi-def.c **** //
 156:Core/Src/scpi-def.c **** //
 157:Core/Src/scpi-def.c **** //
 158:Core/Src/scpi-def.c **** //    SCPI_NumberToStr(context, scpi_special_numbers_def, &param2, bf2, 15);
 159:Core/Src/scpi-def.c **** //
 160:Core/Src/scpi-def.c **** //    sprintf(_err, "meas:volt:ac\tP1=%s\tP2=%s", bf1, bf2);
 161:Core/Src/scpi-def.c **** //    CDC_Transmit_FS(_err, 150);
 162:Core/Src/scpi-def.c **** //
 163:Core/Src/scpi-def.c **** //    SCPI_ResultDouble(context, 0);
ARM GAS  /tmp/cc1mHy4T.s 			page 14


 164:Core/Src/scpi-def.c **** //
 165:Core/Src/scpi-def.c **** //    return SCPI_RES_OK;
 166:Core/Src/scpi-def.c **** //}
 167:Core/Src/scpi-def.c **** 
 168:Core/Src/scpi-def.c **** //static scpi_result_t TEST_Bool(scpi_t * context) {
 169:Core/Src/scpi-def.c **** //    scpi_bool_t param1;
 170:Core/Src/scpi-def.c **** //    char _err[150] = {0};
 171:Core/Src/scpi-def.c **** //
 172:Core/Src/scpi-def.c **** //    /* read first parameter if present */
 173:Core/Src/scpi-def.c **** //    if (!SCPI_ParamBool(context, &param1, TRUE)) {
 174:Core/Src/scpi-def.c **** //        return SCPI_RES_ERR;
 175:Core/Src/scpi-def.c **** //    }
 176:Core/Src/scpi-def.c **** //
 177:Core/Src/scpi-def.c **** //    sprintf(_err, "TEST:BOOL\tP1=%d", param1);
 178:Core/Src/scpi-def.c **** //    CDC_Transmit_FS(_err, 150);
 179:Core/Src/scpi-def.c **** //
 180:Core/Src/scpi-def.c **** //    return SCPI_RES_OK;
 181:Core/Src/scpi-def.c **** //}
 182:Core/Src/scpi-def.c **** 
 183:Core/Src/scpi-def.c **** //scpi_choice_def_t trigger_source[] = {
 184:Core/Src/scpi-def.c **** //    {"BUS", 5},
 185:Core/Src/scpi-def.c **** //    {"IMMediate", 6},
 186:Core/Src/scpi-def.c **** //    {"EXTernal", 7},
 187:Core/Src/scpi-def.c **** //    SCPI_CHOICE_LIST_END /* termination of option list */
 188:Core/Src/scpi-def.c **** //};
 189:Core/Src/scpi-def.c **** 
 190:Core/Src/scpi-def.c **** //static scpi_result_t TEST_ChoiceQ(scpi_t * context) {
 191:Core/Src/scpi-def.c **** //    char _err[150] = {0};
 192:Core/Src/scpi-def.c **** //    int32_t param;
 193:Core/Src/scpi-def.c **** //    const char * name;
 194:Core/Src/scpi-def.c **** //
 195:Core/Src/scpi-def.c **** //    if (!SCPI_ParamChoice(context, trigger_source, &param, TRUE)) {
 196:Core/Src/scpi-def.c **** //        return SCPI_RES_ERR;
 197:Core/Src/scpi-def.c **** //    }
 198:Core/Src/scpi-def.c **** //
 199:Core/Src/scpi-def.c **** //    SCPI_ChoiceToName(trigger_source, param, &name);
 200:Core/Src/scpi-def.c **** //
 201:Core/Src/scpi-def.c **** //    sprintf(_err, "\tP1=%s (%ld)", name, (long int) param);
 202:Core/Src/scpi-def.c **** //    CDC_Transmit_FS(_err, 150);
 203:Core/Src/scpi-def.c **** //
 204:Core/Src/scpi-def.c **** //    SCPI_ResultInt32(context, param);
 205:Core/Src/scpi-def.c **** //
 206:Core/Src/scpi-def.c **** //    return SCPI_RES_OK;
 207:Core/Src/scpi-def.c **** //}
 208:Core/Src/scpi-def.c **** 
 209:Core/Src/scpi-def.c **** //static scpi_result_t TEST_Numbers(scpi_t * context) {
 210:Core/Src/scpi-def.c **** //    int32_t numbers[2];
 211:Core/Src/scpi-def.c **** //    char _err[150] = {0};
 212:Core/Src/scpi-def.c **** //
 213:Core/Src/scpi-def.c **** //    SCPI_CommandNumbers(context, numbers, 2, 1);
 214:Core/Src/scpi-def.c **** //
 215:Core/Src/scpi-def.c **** //    sprintf(_err, "TEST numbers %d %d", numbers[0], numbers[1]);
 216:Core/Src/scpi-def.c **** //    CDC_Transmit_FS(_err, 150);
 217:Core/Src/scpi-def.c **** //
 218:Core/Src/scpi-def.c **** //    return SCPI_RES_OK;
 219:Core/Src/scpi-def.c **** //}
 220:Core/Src/scpi-def.c **** 
ARM GAS  /tmp/cc1mHy4T.s 			page 15


 221:Core/Src/scpi-def.c **** //static scpi_result_t TEST_Text(scpi_t * context) {
 222:Core/Src/scpi-def.c **** //    char buffer[100];
 223:Core/Src/scpi-def.c **** //    char _err[150] = {0};
 224:Core/Src/scpi-def.c **** //    size_t copy_len;
 225:Core/Src/scpi-def.c **** //
 226:Core/Src/scpi-def.c **** //    if (!SCPI_ParamCopyText(context, buffer, sizeof(buffer), &copy_len, FALSE)) {
 227:Core/Src/scpi-def.c **** //        buffer[0] = '\0';
 228:Core/Src/scpi-def.c **** //    }
 229:Core/Src/scpi-def.c **** //
 230:Core/Src/scpi-def.c **** //    sprintf(_err, "TEXT: ***%s***", buffer);
 231:Core/Src/scpi-def.c **** //    CDC_Transmit_FS(_err, 150);
 232:Core/Src/scpi-def.c **** //
 233:Core/Src/scpi-def.c **** //    return SCPI_RES_OK;
 234:Core/Src/scpi-def.c **** //}
 235:Core/Src/scpi-def.c **** 
 236:Core/Src/scpi-def.c **** //static scpi_result_t TEST_ArbQ(scpi_t * context) {
 237:Core/Src/scpi-def.c **** //    const char * data;
 238:Core/Src/scpi-def.c **** //    size_t len;
 239:Core/Src/scpi-def.c **** //
 240:Core/Src/scpi-def.c **** //    if (SCPI_ParamArbitraryBlock(context, &data, &len, FALSE)) {
 241:Core/Src/scpi-def.c **** //        SCPI_ResultArbitraryBlock(context, data, len);
 242:Core/Src/scpi-def.c **** //    }
 243:Core/Src/scpi-def.c **** //
 244:Core/Src/scpi-def.c **** //    return SCPI_RES_OK;
 245:Core/Src/scpi-def.c **** //}
 246:Core/Src/scpi-def.c **** 
 247:Core/Src/scpi-def.c **** /**
 248:Core/Src/scpi-def.c ****  * Reimplement IEEE488.2 *TST?
 249:Core/Src/scpi-def.c ****  *
 250:Core/Src/scpi-def.c ****  * Result should be 0 if everything is ok
 251:Core/Src/scpi-def.c ****  * Result should be 1 if something goes wrong
 252:Core/Src/scpi-def.c ****  *
 253:Core/Src/scpi-def.c ****  * Return SCPI_RES_OK
 254:Core/Src/scpi-def.c ****  */
 255:Core/Src/scpi-def.c **** static scpi_result_t My_CoreTstQ(scpi_t * context) {
 510              		.loc 1 255 52 is_stmt 1 view -0
 511              		.cfi_startproc
 512              		@ args = 0, pretend = 0, frame = 0
 513              		@ frame_needed = 0, uses_anonymous_args = 0
 514              		.loc 1 255 52 is_stmt 0 view .LVU87
 515 0000 10B5     		push	{r4, lr}
 516              	.LCFI11:
 517              		.cfi_def_cfa_offset 8
 518              		.cfi_offset 4, -8
 519              		.cfi_offset 14, -4
 256:Core/Src/scpi-def.c **** 
 257:Core/Src/scpi-def.c ****     SCPI_ResultInt32(context, 0);
 520              		.loc 1 257 5 is_stmt 1 view .LVU88
 521 0002 0021     		movs	r1, #0
 522 0004 FFF7FEFF 		bl	SCPI_ResultInt32
 523              	.LVL47:
 258:Core/Src/scpi-def.c **** 
 259:Core/Src/scpi-def.c ****     return SCPI_RES_OK;
 524              		.loc 1 259 5 view .LVU89
 260:Core/Src/scpi-def.c **** }
 525              		.loc 1 260 1 is_stmt 0 view .LVU90
 526 0008 0120     		movs	r0, #1
ARM GAS  /tmp/cc1mHy4T.s 			page 16


 527              		@ sp needed
 528 000a 10BD     		pop	{r4, pc}
 529              		.cfi_endproc
 530              	.LFE51:
 532              		.comm	scpi_context,152,4
 533              		.comm	scpi_error_queue_data,34,4
 534              		.comm	scpi_input_buffer,256,4
 535              		.global	scpi_interface
 536              		.global	scpi_commands
 537              		.section	.rodata.str1.4,"aMS",%progbits,1
 538              		.align	2
 539              	.LC10:
 540 0000 2A434C53 		.ascii	"*CLS\000"
 540      00
 541 0005 000000   		.align	2
 542              	.LC11:
 543 0008 2A455345 		.ascii	"*ESE\000"
 543      00
 544 000d 000000   		.align	2
 545              	.LC12:
 546 0010 2A455345 		.ascii	"*ESE?\000"
 546      3F00
 547 0016 0000     		.align	2
 548              	.LC13:
 549 0018 2A455352 		.ascii	"*ESR?\000"
 549      3F00
 550 001e 0000     		.align	2
 551              	.LC14:
 552 0020 2A49444E 		.ascii	"*IDN?\000"
 552      3F00
 553 0026 0000     		.align	2
 554              	.LC15:
 555 0028 2A4F5043 		.ascii	"*OPC\000"
 555      00
 556 002d 000000   		.align	2
 557              	.LC16:
 558 0030 2A4F5043 		.ascii	"*OPC?\000"
 558      3F00
 559 0036 0000     		.align	2
 560              	.LC17:
 561 0038 2A525354 		.ascii	"*RST\000"
 561      00
 562 003d 000000   		.align	2
 563              	.LC18:
 564 0040 2A535245 		.ascii	"*SRE\000"
 564      00
 565 0045 000000   		.align	2
 566              	.LC19:
 567 0048 2A535245 		.ascii	"*SRE?\000"
 567      3F00
 568 004e 0000     		.align	2
 569              	.LC20:
 570 0050 2A535442 		.ascii	"*STB?\000"
 570      3F00
 571 0056 0000     		.align	2
 572              	.LC21:
 573 0058 2A545354 		.ascii	"*TST?\000"
ARM GAS  /tmp/cc1mHy4T.s 			page 17


 573      3F00
 574 005e 0000     		.align	2
 575              	.LC22:
 576 0060 2A574149 		.ascii	"*WAI\000"
 576      00
 577 0065 000000   		.align	2
 578              	.LC23:
 579 0068 53595354 		.ascii	"SYSTem:ERRor[:NEXT]?\000"
 579      656D3A45 
 579      52526F72 
 579      5B3A4E45 
 579      58545D3F 
 580 007d 000000   		.align	2
 581              	.LC24:
 582 0080 53595354 		.ascii	"SYSTem:ERRor:COUNt?\000"
 582      656D3A45 
 582      52526F72 
 582      3A434F55 
 582      4E743F00 
 583              		.align	2
 584              	.LC25:
 585 0094 53595354 		.ascii	"SYSTem:VERSion?\000"
 585      656D3A56 
 585      45525369 
 585      6F6E3F00 
 586              		.align	2
 587              	.LC26:
 588 00a4 53544154 		.ascii	"STATus:QUEStionable[:EVENt]?\000"
 588      75733A51 
 588      55455374 
 588      696F6E61 
 588      626C655B 
 589 00c1 000000   		.align	2
 590              	.LC27:
 591 00c4 53544154 		.ascii	"STATus:QUEStionable:ENABle\000"
 591      75733A51 
 591      55455374 
 591      696F6E61 
 591      626C653A 
 592 00df 00       		.align	2
 593              	.LC28:
 594 00e0 53544154 		.ascii	"STATus:QUEStionable:ENABle?\000"
 594      75733A51 
 594      55455374 
 594      696F6E61 
 594      626C653A 
 595              		.align	2
 596              	.LC29:
 597 00fc 53544154 		.ascii	"STATus:PRESet\000"
 597      75733A50 
 597      52455365 
 597      7400
 598 010a 0000     		.align	2
 599              	.LC30:
 600 010c 434F4E46 		.ascii	"CONFigure:OUTput:EN\000"
 600      69677572 
 600      653A4F55 
ARM GAS  /tmp/cc1mHy4T.s 			page 18


 600      54707574 
 600      3A454E00 
 601              		.align	2
 602              	.LC31:
 603 0120 53544154 		.ascii	"STATus:OUTput:EN\000"
 603      75733A4F 
 603      55547075 
 603      743A454E 
 603      00
 604 0131 000000   		.align	2
 605              	.LC32:
 606 0134 434F4E46 		.ascii	"CONFigure:VOLTage:DC\000"
 606      69677572 
 606      653A564F 
 606      4C546167 
 606      653A4443 
 607 0149 000000   		.align	2
 608              	.LC33:
 609 014c 4D454153 		.ascii	"MEASure:VOLTage:DC?\000"
 609      7572653A 
 609      564F4C54 
 609      6167653A 
 609      44433F00 
 610              		.align	2
 611              	.LC34:
 612 0160 434F4E46 		.ascii	"CONFigure:CURRent:DC\000"
 612      69677572 
 612      653A4355 
 612      5252656E 
 612      743A4443 
 613 0175 000000   		.align	2
 614              	.LC35:
 615 0178 4D454153 		.ascii	"MEASure:CURRent:DC?\000"
 615      7572653A 
 615      43555252 
 615      656E743A 
 615      44433F00 
 616              		.align	2
 617              	.LC36:
 618 018c 4D454153 		.ascii	"MEASure:TEMPerature:TC?\000"
 618      7572653A 
 618      54454D50 
 618      65726174 
 618      7572653A 
 619              		.align	2
 620              	.LC37:
 621 01a4 4D454153 		.ascii	"MEASure:TEMPerature:REF?\000"
 621      7572653A 
 621      54454D50 
 621      65726174 
 621      7572653A 
 622 01bd 000000   		.align	2
 623              	.LC38:
 624 01c0 53595354 		.ascii	"SYSTem:COMMunication:TCPIP:CONTROL?\000"
 624      656D3A43 
 624      4F4D4D75 
 624      6E696361 
ARM GAS  /tmp/cc1mHy4T.s 			page 19


 624      74696F6E 
 625              		.section	.data.scpi_interface,"aw"
 626              		.align	2
 629              	scpi_interface:
 630 0000 00000000 		.word	SCPI_Error
 631 0004 00000000 		.word	SCPI_Write
 632 0008 00000000 		.word	SCPI_Control
 633 000c 00000000 		.word	SCPI_Flush
 634 0010 00000000 		.word	SCPI_Reset
 635              		.section	.rodata.scpi_commands,"a"
 636              		.align	2
 639              	scpi_commands:
 640 0000 00000000 		.word	.LC10
 641 0004 00000000 		.word	SCPI_CoreCls
 642 0008 00000000 		.space	4
 643 000c 08000000 		.word	.LC11
 644 0010 00000000 		.word	SCPI_CoreEse
 645 0014 00000000 		.space	4
 646 0018 10000000 		.word	.LC12
 647 001c 00000000 		.word	SCPI_CoreEseQ
 648 0020 00000000 		.space	4
 649 0024 18000000 		.word	.LC13
 650 0028 00000000 		.word	SCPI_CoreEsrQ
 651 002c 00000000 		.space	4
 652 0030 20000000 		.word	.LC14
 653 0034 00000000 		.word	SCPI_CoreIdnQ
 654 0038 00000000 		.space	4
 655 003c 28000000 		.word	.LC15
 656 0040 00000000 		.word	SCPI_CoreOpc
 657 0044 00000000 		.space	4
 658 0048 30000000 		.word	.LC16
 659 004c 00000000 		.word	SCPI_CoreOpcQ
 660 0050 00000000 		.space	4
 661 0054 38000000 		.word	.LC17
 662 0058 00000000 		.word	SCPI_CoreRst
 663 005c 00000000 		.space	4
 664 0060 40000000 		.word	.LC18
 665 0064 00000000 		.word	SCPI_CoreSre
 666 0068 00000000 		.space	4
 667 006c 48000000 		.word	.LC19
 668 0070 00000000 		.word	SCPI_CoreSreQ
 669 0074 00000000 		.space	4
 670 0078 50000000 		.word	.LC20
 671 007c 00000000 		.word	SCPI_CoreStbQ
 672 0080 00000000 		.space	4
 673 0084 58000000 		.word	.LC21
 674 0088 00000000 		.word	My_CoreTstQ
 675 008c 00000000 		.space	4
 676 0090 60000000 		.word	.LC22
 677 0094 00000000 		.word	SCPI_CoreWai
 678 0098 00000000 		.space	4
 679 009c 68000000 		.word	.LC23
 680 00a0 00000000 		.word	SCPI_SystemErrorNextQ
 681 00a4 00000000 		.space	4
 682 00a8 80000000 		.word	.LC24
 683 00ac 00000000 		.word	SCPI_SystemErrorCountQ
 684 00b0 00000000 		.space	4
ARM GAS  /tmp/cc1mHy4T.s 			page 20


 685 00b4 94000000 		.word	.LC25
 686 00b8 00000000 		.word	SCPI_SystemVersionQ
 687 00bc 00000000 		.space	4
 688 00c0 A4000000 		.word	.LC26
 689 00c4 00000000 		.word	SCPI_StatusQuestionableEventQ
 690 00c8 00000000 		.space	4
 691 00cc C4000000 		.word	.LC27
 692 00d0 00000000 		.word	SCPI_StatusQuestionableEnable
 693 00d4 00000000 		.space	4
 694 00d8 E0000000 		.word	.LC28
 695 00dc 00000000 		.word	SCPI_StatusQuestionableEnableQ
 696 00e0 00000000 		.space	4
 697 00e4 FC000000 		.word	.LC29
 698 00e8 00000000 		.word	SCPI_StatusPreset
 699 00ec 00000000 		.space	4
 700 00f0 0C010000 		.word	.LC30
 701 00f4 00000000 		.word	OPS_ConfigureOutputEn
 702 00f8 00000000 		.space	4
 703 00fc 20010000 		.word	.LC31
 704 0100 00000000 		.word	OPS_StatusOutputEn
 705 0104 00000000 		.space	4
 706 0108 34010000 		.word	.LC32
 707 010c 00000000 		.word	OPS_ConfigureVoltageDc
 708 0110 00000000 		.space	4
 709 0114 4C010000 		.word	.LC33
 710 0118 00000000 		.word	OPS_MeasureVoltageDc
 711 011c 00000000 		.space	4
 712 0120 60010000 		.word	.LC34
 713 0124 00000000 		.word	OPS_ConfigureCurrentDc
 714 0128 00000000 		.space	4
 715 012c 78010000 		.word	.LC35
 716 0130 00000000 		.word	OPS_MeasureCurrentDc
 717 0134 00000000 		.space	4
 718 0138 8C010000 		.word	.LC36
 719 013c 00000000 		.word	OPS_MeasureTemperatureTc
 720 0140 00000000 		.space	4
 721 0144 A4010000 		.word	.LC37
 722 0148 00000000 		.word	OPS_MeasureTemperatureRef
 723 014c 00000000 		.space	4
 724 0150 C0010000 		.word	.LC38
 725 0154 00000000 		.word	SCPI_SystemCommTcpipControlQ
 726 0158 00000000 		.space	4
 727 015c 00000000 		.word	0
 728 0160 00000000 		.word	0
 729 0164 00000000 		.word	0
 730              		.text
 731              	.Letext0:
 732              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 733              		.file 3 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stddef.h"
 734              		.file 4 "/usr/include/newlib/sys/_types.h"
 735              		.file 5 "/usr/include/newlib/sys/reent.h"
 736              		.file 6 "/usr/include/newlib/sys/lock.h"
 737              		.file 7 "/usr/include/newlib/sys/_stdint.h"
 738              		.file 8 "/usr/include/newlib/stdlib.h"
 739              		.file 9 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 740              		.file 10 "libscpi/inc/scpi/types.h"
 741              		.file 11 "libscpi/inc/scpi/parser.h"
ARM GAS  /tmp/cc1mHy4T.s 			page 21


 742              		.file 12 "libscpi/inc/scpi/units.h"
 743              		.file 13 "Core/Inc/scpi-def.h"
 744              		.file 14 "Drivers/CMSIS/Device/ST/STM32F0xx/Include/system_stm32f0xx.h"
 745              		.file 15 "Drivers/CMSIS/Device/ST/STM32F0xx/Include/stm32f072xb.h"
 746              		.file 16 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_def.h"
 747              		.file 17 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_dma.h"
 748              		.file 18 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_i2c.h"
 749              		.file 19 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal.h"
 750              		.file 20 "Core/Inc/main.h"
 751              		.file 21 "Core/Inc/MP8862.h"
 752              		.file 22 "/usr/include/newlib/stdio.h"
 753              		.file 23 "<built-in>"
ARM GAS  /tmp/cc1mHy4T.s 			page 22


DEFINED SYMBOLS
                            *ABS*:0000000000000000 scpi-def.c
     /tmp/cc1mHy4T.s:17     .text.OPS_MeasureTemperatureRef:0000000000000000 $t
     /tmp/cc1mHy4T.s:24     .text.OPS_MeasureTemperatureRef:0000000000000000 OPS_MeasureTemperatureRef
     /tmp/cc1mHy4T.s:62     .text.OPS_MeasureTemperatureRef:000000000000001c $d
     /tmp/cc1mHy4T.s:67     .text.OPS_MeasureTemperatureTc:0000000000000000 $t
     /tmp/cc1mHy4T.s:73     .text.OPS_MeasureTemperatureTc:0000000000000000 OPS_MeasureTemperatureTc
     /tmp/cc1mHy4T.s:110    .text.OPS_MeasureTemperatureTc:000000000000001c $d
     /tmp/cc1mHy4T.s:115    .text.OPS_MeasureCurrentDc:0000000000000000 $t
     /tmp/cc1mHy4T.s:121    .text.OPS_MeasureCurrentDc:0000000000000000 OPS_MeasureCurrentDc
     /tmp/cc1mHy4T.s:158    .text.OPS_MeasureCurrentDc:000000000000001c $d
     /tmp/cc1mHy4T.s:163    .text.OPS_MeasureVoltageDc:0000000000000000 $t
     /tmp/cc1mHy4T.s:169    .text.OPS_MeasureVoltageDc:0000000000000000 OPS_MeasureVoltageDc
     /tmp/cc1mHy4T.s:206    .text.OPS_MeasureVoltageDc:000000000000001c $d
     /tmp/cc1mHy4T.s:212    .text.OPS_StatusOutputEn:0000000000000000 $t
     /tmp/cc1mHy4T.s:218    .text.OPS_StatusOutputEn:0000000000000000 OPS_StatusOutputEn
     /tmp/cc1mHy4T.s:255    .text.OPS_StatusOutputEn:000000000000001c $d
     /tmp/cc1mHy4T.s:260    .rodata.OPS_ConfigureCurrentDc.str1.4:0000000000000000 $d
     /tmp/cc1mHy4T.s:264    .text.OPS_ConfigureCurrentDc:0000000000000000 $t
     /tmp/cc1mHy4T.s:270    .text.OPS_ConfigureCurrentDc:0000000000000000 OPS_ConfigureCurrentDc
     /tmp/cc1mHy4T.s:340    .text.OPS_ConfigureCurrentDc:0000000000000044 $d
     /tmp/cc1mHy4T.s:345    .rodata.OPS_ConfigureOutputEn.str1.4:0000000000000000 $d
     /tmp/cc1mHy4T.s:349    .text.OPS_ConfigureOutputEn:0000000000000000 $t
     /tmp/cc1mHy4T.s:355    .text.OPS_ConfigureOutputEn:0000000000000000 OPS_ConfigureOutputEn
     /tmp/cc1mHy4T.s:425    .text.OPS_ConfigureOutputEn:0000000000000044 $d
     /tmp/cc1mHy4T.s:432    .text.OPS_ConfigureVoltageDc:0000000000000000 $t
     /tmp/cc1mHy4T.s:438    .text.OPS_ConfigureVoltageDc:0000000000000000 OPS_ConfigureVoltageDc
     /tmp/cc1mHy4T.s:495    .text.OPS_ConfigureVoltageDc:0000000000000034 $d
     /tmp/cc1mHy4T.s:501    .text.My_CoreTstQ:0000000000000000 $t
     /tmp/cc1mHy4T.s:507    .text.My_CoreTstQ:0000000000000000 My_CoreTstQ
                            *COM*:0000000000000098 scpi_context
                            *COM*:0000000000000022 scpi_error_queue_data
                            *COM*:0000000000000100 scpi_input_buffer
     /tmp/cc1mHy4T.s:629    .data.scpi_interface:0000000000000000 scpi_interface
     /tmp/cc1mHy4T.s:639    .rodata.scpi_commands:0000000000000000 scpi_commands
     /tmp/cc1mHy4T.s:538    .rodata.str1.4:0000000000000000 $d
     /tmp/cc1mHy4T.s:626    .data.scpi_interface:0000000000000000 $d
     /tmp/cc1mHy4T.s:636    .rodata.scpi_commands:0000000000000000 $d

UNDEFINED SYMBOLS
__aeabi_f2d
SCPI_ResultDouble
ops
__aeabi_ui2d
memset
SCPI_ParamDouble
sprintf
CDC_Transmit_FS
__aeabi_dmul
__aeabi_d2uiz
MP8862_setVoltageSetpoint_mV
MP8862
SCPI_ResultInt32
SCPI_Error
SCPI_Write
SCPI_Control
SCPI_Flush
ARM GAS  /tmp/cc1mHy4T.s 			page 23


SCPI_Reset
SCPI_CoreCls
SCPI_CoreEse
SCPI_CoreEseQ
SCPI_CoreEsrQ
SCPI_CoreIdnQ
SCPI_CoreOpc
SCPI_CoreOpcQ
SCPI_CoreRst
SCPI_CoreSre
SCPI_CoreSreQ
SCPI_CoreStbQ
SCPI_CoreWai
SCPI_SystemErrorNextQ
SCPI_SystemErrorCountQ
SCPI_SystemVersionQ
SCPI_StatusQuestionableEventQ
SCPI_StatusQuestionableEnable
SCPI_StatusQuestionableEnableQ
SCPI_StatusPreset
SCPI_SystemCommTcpipControlQ
